var u="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:global;var g={};g=(()=>{var g={737:(u,g,m)=>{m.d(g,{Z:()=>I});var w=m(15),b=m.n(w),x=m(645),v=m.n(x)()(b());v.push([u.id,'.color-diwget-btn {\n    height: 32px;\n    width: 32px;\n    cursor: pointer;\n    z-index: 1;\n}\n\n.color-diwget-btn-substrate {\n    width: 32px;\n}\n\nselect.ptro-input[data-id=\'fontName\'] {\n    width: 45px;\n}\n\n.ptro-bar .ptro-tool-ctl-name {\n    padding: 0 2px 0 0;\n    font-family: "Open Sans", sans-serif;\n    line-height: 22px;\n}\n\n.ptro-bar .ptro-tool-ctl-name {\n    margin-left: 5px;\n    border-top-left-radius: 10px;\n    border-bottom-left-radius: 10px;\n    padding-left: 3px;\n    padding-top: 4px;\n    padding-bottom: 4px;\n}\n\n.ptro-info {\n    font-family: "Open Sans", sans-serif;\n    font-size: 10px;\n    padding: 4px;\n    margin-left: auto;\n    word-break: keep-all;\n    white-space: normal;\n    text-align: right;\n}\n\n.ptro-info > span {\n    opacity: 0.5;\n}\n\n@media screen and (max-width: 768px) {\n    .ptro-bar > div {\n        white-space: nowrap;\n    }\n    span.ptro-bar-right {\n        float: none;\n    }\n    span.ptro-info {\n        display: none;\n    }\n    \n}\n\n.ptro-bar .ptro-input {\n    height: 32px;\n    line-height: 32px;\n    font-family: "Open Sans", sans-serif;\n    font-size: 16px;\n    position: relative;\n    padding-left: 2px;\n    padding-right: 0;\n}\n\n.ptro-bar .ptro-input[type="number"] {\n    width: 42px;\n}\n\n.ptro-bar .ptro-named-btn p {\n    margin: 0;\n}\n\n.ptro-bar {\n    bottom: 0;\n    position: absolute;\n    width: 100%;\n    font-size: 16px;\n    line-height: normal;\n}\n\n.ptro-bar > div {\n    position: relative;\n}\n\n.ptro-bar > div::-webkit-scrollbar {\n    height: 2px;\n}\n    \n/* Track */\n.ptro-bar > div::-webkit-scrollbar-track {\n    background: #f1f1f1;\n}\n    \n/* Handle */\n.ptro-bar > div::-webkit-scrollbar-thumb {\n    background: #888;\n}\n    \n/* Handle on hover */\n.ptro-bar > div::-webkit-scrollbar-thumb:hover {\n    background: #555;\n}\n\n.ptro-bar .ptro-icon-btn {\n}\n\nbutton.ptro-icon-right:first-of-type {\n    margin-right: 4px;\n}\n\nbutton.ptro-input[data-value="false"],button.ptro-input[data-value="true"] {\n    width: 28px;\n    height: 28px;\n    border: 0;\n    background: transparent;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    padding-left: 0px;\n    cursor: pointer;\n    outline: 0;\n}\n\nbutton.ptro-input[data-value="true"]::after {\n    content: \'✔\';\n    font-size: 20px;\n    line-height: 12px;\n    width: 12px;\n    height: 12px;\n    border: 0;\n    /* background: rgba(0,0,0,0.5); */\n    display: inline-block;\n}\n\n@-webkit-keyframes ptro-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n    transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(359deg);\n    transform: rotate(359deg);\n  }\n}\n@keyframes ptro-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n    transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(359deg);\n    transform: rotate(359deg);\n  }\n}\n\n.ptro-spinning {\n    -webkit-animation: ptro-spin 0.5s infinite steps(9);\n    animation: ptro-spin 0.8s infinite steps(9);\n    display: inline-block;\n    text-rendering: auto;\n    -webkit-font-smoothing: antialiased;\n}\n\n#container-bar {\n    display: block;\n}',"",{version:3,sources:["webpack://./css/bar-styles.css"],names:[],mappings:"AAAA;IACI,YAAY;IACZ,WAAW;IACX,eAAe;IACf,UAAU;AACd;;AAEA;IACI,WAAW;AACf;;AAEA;IACI,WAAW;AACf;;AAEA;IACI,kBAAkB;IAClB,oCAAoC;IACpC,iBAAiB;AACrB;;AAEA;IACI,gBAAgB;IAChB,4BAA4B;IAC5B,+BAA+B;IAC/B,iBAAiB;IACjB,gBAAgB;IAChB,mBAAmB;AACvB;;AAEA;IACI,oCAAoC;IACpC,eAAe;IACf,YAAY;IACZ,iBAAiB;IACjB,oBAAoB;IACpB,mBAAmB;IACnB,iBAAiB;AACrB;;AAEA;IACI,YAAY;AAChB;;AAEA;IACI;QACI,mBAAmB;IACvB;IACA;QACI,WAAW;IACf;IACA;QACI,aAAa;IACjB;;AAEJ;;AAEA;IACI,YAAY;IACZ,iBAAiB;IACjB,oCAAoC;IACpC,eAAe;IACf,kBAAkB;IAClB,iBAAiB;IACjB,gBAAgB;AACpB;;AAEA;IACI,WAAW;AACf;;AAEA;IACI,SAAS;AACb;;AAEA;IACI,SAAS;IACT,kBAAkB;IAClB,WAAW;IACX,eAAe;IACf,mBAAmB;AACvB;;AAEA;IACI,kBAAkB;AACtB;;AAEA;IACI,WAAW;AACf;;AAEA,UAAU;AACV;IACI,mBAAmB;AACvB;;AAEA,WAAW;AACX;IACI,gBAAgB;AACpB;;AAEA,oBAAoB;AACpB;IACI,gBAAgB;AACpB;;AAEA;AACA;;AAEA;IACI,iBAAiB;AACrB;;AAEA;IACI,WAAW;IACX,YAAY;IACZ,SAAS;IACT,uBAAuB;IACvB,aAAa;IACb,uBAAuB;IACvB,mBAAmB;IACnB,iBAAiB;IACjB,eAAe;IACf,UAAU;AACd;;AAEA;IACI,YAAY;IACZ,eAAe;IACf,iBAAiB;IACjB,WAAW;IACX,YAAY;IACZ,SAAS;IACT,iCAAiC;IACjC,qBAAqB;AACzB;;AAEA;EACE;IACE,+BAA+B;IAC/B,uBAAuB;EACzB;EACA;IACE,iCAAiC;IACjC,yBAAyB;EAC3B;AACF;AACA;EACE;IACE,+BAA+B;IAC/B,uBAAuB;EACzB;EACA;IACE,iCAAiC;IACjC,yBAAyB;EAC3B;AACF;;AAEA;IACI,mDAAmD;IACnD,2CAA2C;IAC3C,qBAAqB;IACrB,oBAAoB;IACpB,mCAAmC;AACvC;;AAEA;IACI,cAAc;AAClB",sourcesContent:['.color-diwget-btn {\n    height: 32px;\n    width: 32px;\n    cursor: pointer;\n    z-index: 1;\n}\n\n.color-diwget-btn-substrate {\n    width: 32px;\n}\n\nselect.ptro-input[data-id=\'fontName\'] {\n    width: 45px;\n}\n\n.ptro-bar .ptro-tool-ctl-name {\n    padding: 0 2px 0 0;\n    font-family: "Open Sans", sans-serif;\n    line-height: 22px;\n}\n\n.ptro-bar .ptro-tool-ctl-name {\n    margin-left: 5px;\n    border-top-left-radius: 10px;\n    border-bottom-left-radius: 10px;\n    padding-left: 3px;\n    padding-top: 4px;\n    padding-bottom: 4px;\n}\n\n.ptro-info {\n    font-family: "Open Sans", sans-serif;\n    font-size: 10px;\n    padding: 4px;\n    margin-left: auto;\n    word-break: keep-all;\n    white-space: normal;\n    text-align: right;\n}\n\n.ptro-info > span {\n    opacity: 0.5;\n}\n\n@media screen and (max-width: 768px) {\n    .ptro-bar > div {\n        white-space: nowrap;\n    }\n    span.ptro-bar-right {\n        float: none;\n    }\n    span.ptro-info {\n        display: none;\n    }\n    \n}\n\n.ptro-bar .ptro-input {\n    height: 32px;\n    line-height: 32px;\n    font-family: "Open Sans", sans-serif;\n    font-size: 16px;\n    position: relative;\n    padding-left: 2px;\n    padding-right: 0;\n}\n\n.ptro-bar .ptro-input[type="number"] {\n    width: 42px;\n}\n\n.ptro-bar .ptro-named-btn p {\n    margin: 0;\n}\n\n.ptro-bar {\n    bottom: 0;\n    position: absolute;\n    width: 100%;\n    font-size: 16px;\n    line-height: normal;\n}\n\n.ptro-bar > div {\n    position: relative;\n}\n\n.ptro-bar > div::-webkit-scrollbar {\n    height: 2px;\n}\n    \n/* Track */\n.ptro-bar > div::-webkit-scrollbar-track {\n    background: #f1f1f1;\n}\n    \n/* Handle */\n.ptro-bar > div::-webkit-scrollbar-thumb {\n    background: #888;\n}\n    \n/* Handle on hover */\n.ptro-bar > div::-webkit-scrollbar-thumb:hover {\n    background: #555;\n}\n\n.ptro-bar .ptro-icon-btn {\n}\n\nbutton.ptro-icon-right:first-of-type {\n    margin-right: 4px;\n}\n\nbutton.ptro-input[data-value="false"],button.ptro-input[data-value="true"] {\n    width: 28px;\n    height: 28px;\n    border: 0;\n    background: transparent;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    padding-left: 0px;\n    cursor: pointer;\n    outline: 0;\n}\n\nbutton.ptro-input[data-value="true"]::after {\n    content: \'✔\';\n    font-size: 20px;\n    line-height: 12px;\n    width: 12px;\n    height: 12px;\n    border: 0;\n    /* background: rgba(0,0,0,0.5); */\n    display: inline-block;\n}\n\n@-webkit-keyframes ptro-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n    transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(359deg);\n    transform: rotate(359deg);\n  }\n}\n@keyframes ptro-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n    transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(359deg);\n    transform: rotate(359deg);\n  }\n}\n\n.ptro-spinning {\n    -webkit-animation: ptro-spin 0.5s infinite steps(9);\n    animation: ptro-spin 0.8s infinite steps(9);\n    display: inline-block;\n    text-rendering: auto;\n    -webkit-font-smoothing: antialiased;\n}\n\n#container-bar {\n    display: block;\n}'],sourceRoot:""}]);const I=v},223:(u,g,m)=>{m.d(g,{Z:()=>D});var w=m(15),b=m.n(w),x=m(645),v=m.n(x),I=m(667),y=m.n(I),k=m(141),S=m(589),T=v()(b()),L=y()(k.Z),Y=y()(S.Z);T.push([u.id,'@font-face {\n\tfont-family: "ptroiconfont";\n\tsrc: url('+L+') format("woff"),\nurl('+Y+') format("truetype");\n\tfont-weight: normal;\n    font-style: normal;\n}\n\n.ptro-icon {\n}\n\n.ptro-icon:before {\n\tfont-family: ptroiconfont !important;\n\tfont-style: normal !important;\n\tfont-weight: normal !important;\n\tfont-variant: normal !important;\n\ttext-transform: none !important;\n\tspeak: none;\n\t-webkit-font-smoothing: antialiased;\n\t-moz-osx-font-smoothing: grayscale;\n}\n\n.ptro-icon-apply:before {\n\tcontent: "\\f101";\n}\n.ptro-icon-arrow:before {\n\tcontent: "\\f102";\n}\n.ptro-icon-brush:before {\n\tcontent: "\\f103";\n}\n.ptro-icon-bucket:before {\n\tcontent: "\\f104";\n}\n.ptro-icon-clear:before {\n\tcontent: "\\f105";\n}\n.ptro-icon-close:before {\n\tcontent: "\\f106";\n}\n.ptro-icon-crop:before {\n\tcontent: "\\f107";\n}\n.ptro-icon-ellipse:before {\n\tcontent: "\\f108";\n}\n.ptro-icon-eraser:before {\n\tcontent: "\\f109";\n}\n.ptro-icon-line:before {\n\tcontent: "\\f10a";\n}\n.ptro-icon-linked:before {\n\tcontent: "\\f10b";\n}\n.ptro-icon-loading:before {\n\tcontent: "\\f10c";\n}\n.ptro-icon-mirror:before {\n\tcontent: "\\f10d";\n}\n.ptro-icon-open:before {\n\tcontent: "\\f10e";\n}\n.ptro-icon-painterro0:before {\n\tcontent: "\\f10f";\n}\n.ptro-icon-paste_extend_down:before {\n\tcontent: "\\f110";\n}\n.ptro-icon-paste_extend_left:before {\n\tcontent: "\\f111";\n}\n.ptro-icon-paste_extend_right:before {\n\tcontent: "\\f112";\n}\n.ptro-icon-paste_extend_top:before {\n\tcontent: "\\f113";\n}\n.ptro-icon-paste_fit:before {\n\tcontent: "\\f114";\n}\n.ptro-icon-paste_over:before {\n\tcontent: "\\f115";\n}\n.ptro-icon-pipette:before {\n\tcontent: "\\f116";\n}\n.ptro-icon-pixelize:before {\n\tcontent: "\\f117";\n}\n.ptro-icon-rect:before {\n\tcontent: "\\f118";\n}\n.ptro-icon-redo:before {\n\tcontent: "\\f119";\n}\n.ptro-icon-resize:before {\n\tcontent: "\\f11a";\n}\n.ptro-icon-rotate:before {\n\tcontent: "\\f11b";\n}\n.ptro-icon-save:before {\n\tcontent: "\\f11c";\n}\n.ptro-icon-select:before {\n\tcontent: "\\f11d";\n}\n.ptro-icon-settings:before {\n\tcontent: "\\f11e";\n}\n.ptro-icon-text:before {\n\tcontent: "\\f11f";\n}\n.ptro-icon-undo:before {\n\tcontent: "\\f120";\n}\n.ptro-icon-unlinked:before {\n\tcontent: "\\f121";\n}\n.ptro-icon-zoomin:before {\n\tcontent: "\\f122";\n}\n.ptro-icon-zoomout:before {\n\tcontent: "\\f123";\n}\n',"",{version:3,sources:["webpack://./css/icons/ptroiconfont.css"],names:[],mappings:"AAAA;CACC,2BAA2B;CAC3B;0DAC0E;CAC1E,mBAAmB;IAChB,kBAAkB;AACtB;;AAEA;AACA;;AAEA;CACC,oCAAoC;CACpC,6BAA6B;CAC7B,8BAA8B;CAC9B,+BAA+B;CAC/B,+BAA+B;CAC/B,WAAW;CACX,mCAAmC;CACnC,kCAAkC;AACnC;;AAEA;CACC,gBAAgB;AACjB;AACA;CACC,gBAAgB;AACjB;AACA;CACC,gBAAgB;AACjB;AACA;CACC,gBAAgB;AACjB;AACA;CACC,gBAAgB;AACjB;AACA;CACC,gBAAgB;AACjB;AACA;CACC,gBAAgB;AACjB;AACA;CACC,gBAAgB;AACjB;AACA;CACC,gBAAgB;AACjB;AACA;CACC,gBAAgB;AACjB;AACA;CACC,gBAAgB;AACjB;AACA;CACC,gBAAgB;AACjB;AACA;CACC,gBAAgB;AACjB;AACA;CACC,gBAAgB;AACjB;AACA;CACC,gBAAgB;AACjB;AACA;CACC,gBAAgB;AACjB;AACA;CACC,gBAAgB;AACjB;AACA;CACC,gBAAgB;AACjB;AACA;CACC,gBAAgB;AACjB;AACA;CACC,gBAAgB;AACjB;AACA;CACC,gBAAgB;AACjB;AACA;CACC,gBAAgB;AACjB;AACA;CACC,gBAAgB;AACjB;AACA;CACC,gBAAgB;AACjB;AACA;CACC,gBAAgB;AACjB;AACA;CACC,gBAAgB;AACjB;AACA;CACC,gBAAgB;AACjB;AACA;CACC,gBAAgB;AACjB;AACA;CACC,gBAAgB;AACjB;AACA;CACC,gBAAgB;AACjB;AACA;CACC,gBAAgB;AACjB;AACA;CACC,gBAAgB;AACjB;AACA;CACC,gBAAgB;AACjB;AACA;CACC,gBAAgB;AACjB;AACA;CACC,gBAAgB;AACjB",sourcesContent:['@font-face {\n\tfont-family: "ptroiconfont";\n\tsrc: url("ptroiconfont.woff?616c25507ea43347b0fb23f24760dae2") format("woff"),\nurl("ptroiconfont.ttf?616c25507ea43347b0fb23f24760dae2") format("truetype");\n\tfont-weight: normal;\n    font-style: normal;\n}\n\n.ptro-icon {\n}\n\n.ptro-icon:before {\n\tfont-family: ptroiconfont !important;\n\tfont-style: normal !important;\n\tfont-weight: normal !important;\n\tfont-variant: normal !important;\n\ttext-transform: none !important;\n\tspeak: none;\n\t-webkit-font-smoothing: antialiased;\n\t-moz-osx-font-smoothing: grayscale;\n}\n\n.ptro-icon-apply:before {\n\tcontent: "\\f101";\n}\n.ptro-icon-arrow:before {\n\tcontent: "\\f102";\n}\n.ptro-icon-brush:before {\n\tcontent: "\\f103";\n}\n.ptro-icon-bucket:before {\n\tcontent: "\\f104";\n}\n.ptro-icon-clear:before {\n\tcontent: "\\f105";\n}\n.ptro-icon-close:before {\n\tcontent: "\\f106";\n}\n.ptro-icon-crop:before {\n\tcontent: "\\f107";\n}\n.ptro-icon-ellipse:before {\n\tcontent: "\\f108";\n}\n.ptro-icon-eraser:before {\n\tcontent: "\\f109";\n}\n.ptro-icon-line:before {\n\tcontent: "\\f10a";\n}\n.ptro-icon-linked:before {\n\tcontent: "\\f10b";\n}\n.ptro-icon-loading:before {\n\tcontent: "\\f10c";\n}\n.ptro-icon-mirror:before {\n\tcontent: "\\f10d";\n}\n.ptro-icon-open:before {\n\tcontent: "\\f10e";\n}\n.ptro-icon-painterro0:before {\n\tcontent: "\\f10f";\n}\n.ptro-icon-paste_extend_down:before {\n\tcontent: "\\f110";\n}\n.ptro-icon-paste_extend_left:before {\n\tcontent: "\\f111";\n}\n.ptro-icon-paste_extend_right:before {\n\tcontent: "\\f112";\n}\n.ptro-icon-paste_extend_top:before {\n\tcontent: "\\f113";\n}\n.ptro-icon-paste_fit:before {\n\tcontent: "\\f114";\n}\n.ptro-icon-paste_over:before {\n\tcontent: "\\f115";\n}\n.ptro-icon-pipette:before {\n\tcontent: "\\f116";\n}\n.ptro-icon-pixelize:before {\n\tcontent: "\\f117";\n}\n.ptro-icon-rect:before {\n\tcontent: "\\f118";\n}\n.ptro-icon-redo:before {\n\tcontent: "\\f119";\n}\n.ptro-icon-resize:before {\n\tcontent: "\\f11a";\n}\n.ptro-icon-rotate:before {\n\tcontent: "\\f11b";\n}\n.ptro-icon-save:before {\n\tcontent: "\\f11c";\n}\n.ptro-icon-select:before {\n\tcontent: "\\f11d";\n}\n.ptro-icon-settings:before {\n\tcontent: "\\f11e";\n}\n.ptro-icon-text:before {\n\tcontent: "\\f11f";\n}\n.ptro-icon-undo:before {\n\tcontent: "\\f120";\n}\n.ptro-icon-unlinked:before {\n\tcontent: "\\f121";\n}\n.ptro-icon-zoomin:before {\n\tcontent: "\\f122";\n}\n.ptro-icon-zoomout:before {\n\tcontent: "\\f123";\n}\n'],sourceRoot:""}]);const D=T},170:(u,g,m)=>{m.d(g,{Z:()=>L});var w=m(15),b=m.n(w),x=m(645),v=m.n(x),I=m(667),y=m.n(I),k=m(122),S=v()(b()),T=y()(k.Z);S.push([u.id,'.ptro-wrapper {\r\n    position: absolute;\r\n    top: 0;\r\n    left: 0;\r\n    right: 0;\r\n    text-align: center;\r\n    z-index: 10;\r\n    font-family: "Open Sans", sans-serif;\r\n}\r\n\r\n@media screen and (min-width: 869px) {\r\n    .ptro-holder {\r\n        position: fixed;\r\n        left: 35px;\r\n        right: 35px;\r\n        top: 35px;\r\n        bottom: 35px;\r\n        box-shadow: 1px 1px 5px #888;\r\n    }\r\n}\r\n\r\n@media screen and (max-width: 868px) {\r\n    .ptro-holder {\r\n        position: fixed;\r\n        box-shadow: 3px 3px 15px #787878;\r\n        left: 0;\r\n        right: 0;\r\n        top: 0;\r\n        bottom: 0;\r\n    }\r\n}\r\n\r\n.ptro-holder-wrapper {\r\n    position: fixed;\r\n    top: 0;\r\n    left: 0;\r\n    width: 100%;\r\n    height: 100%;\r\n    background-color: rgba(0,0,0,0.2);\r\n}\r\n\r\n.ptro-wrapper.ptro-v-aligned:before {\r\n    content: "";\r\n    display: inline-block;\r\n    vertical-align: middle;\r\n    height: 100%;\r\n}\r\n\r\n\r\n.ptro-icon {\r\n    font-size: 14px;\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n}\r\n\r\n\r\n.ptro-icon-btn:disabled {\r\n    color: gray;\r\n}\r\n\r\n.ptro-wrapper canvas {\r\n    /* vertical-align: middle; */\r\n    display: inline-block;\r\n    touch-action: none;\r\n    margin-left: auto;\r\n    margin-right: auto;\r\n    width: auto;\r\n    height: auto;\r\n}\r\n\r\n.ptro-center-table {\r\n    display:table;\r\n    width: 100%;\r\n    height: 100%;\r\n}\r\n\r\n.ptro-center-tablecell {\r\n    display:table-cell;\r\n    vertical-align:middle;\r\n}\r\n\r\n.ptro-icon-btn {\r\n    border: 0;\r\n    cursor: pointer;\r\n    flex-shrink: 0;\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n}\r\n\r\n.ptro-icon-btn i {\r\n}\r\n\r\n\r\n.ptro-named-btn {\r\n    border: 0;\r\n    display: inline-block;\r\n    height: 30px;\r\n    margin-left: 4px;\r\n    font-family: "Open Sans", sans-serif;\r\n    position: relative;\r\n    top:-5px;\r\n    font-size: 14px;\r\n    cursor: pointer;\r\n}\r\n\r\n.ptro-icon-btn:focus,\r\n.ptro-named-btn:focus,\r\n.color-diwget-btn:focus,\r\n.ptro-color-btn:focus,\r\n.ptro-selector-btn:focus {\r\n    outline: none;\r\n}\r\n\r\n.ptro-color-btn {\r\n    height: 32px;\r\n    width: 32px;\r\n    cursor: pointer;\r\n}\r\n\r\n\r\n.ptro-wrapper .select-handler {\r\n    background-color: white;\r\n    border: 1px solid black;\r\n    width: 6px;\r\n    height: 6px;\r\n    position: absolute;\r\n    z-index: 10;\r\n}\r\n\r\n.ptro-wrapper .ptro-crp-el {\r\n    position: absolute;\r\n}\r\n\r\n.ptro-wrapper .ptro-substrate {\r\n    opacity: 0.3;\r\n    background-image: url('+T+');\r\n    background-size: 32px 32px;\r\n    z-index: -1;\r\n    position: absolute;\r\n}\r\n\r\n.ptro-wrapper .ptro-close-color-picker {\r\n    height: 24px;\r\n    margin-top: 5px;\r\n    margin-bottom: -5px;\r\n    margin-left: auto;\r\n}\r\n\r\n.ptro-tool-controls {\r\n    flex-shrink: 0;\r\n    display: flex;\r\n    align-items: center;\r\n}\r\n\r\n.ptro-wrapper .ptro-crp-rect {\r\n    position: absolute;\r\n    background-color: rgba(225, 225, 225, .5);\r\n    border: 1px dashed black;\r\n    cursor: move;\r\n    -moz-user-select: none;\r\n    /* -webkit-user-select: none; */\r\n    -ms-user-select: none;\r\n    user-select: none;\r\n    -webkit-user-drag: none;\r\n    user-drag: none;\r\n    -webkit-touch-callout: none;\r\n    background-repeat: no-repeat;\r\n    background-size: 100% 100%;\r\n}\r\n\r\n.ptro-wrapper .ptro-crp-tl {\r\n    position: absolute;\r\n    top: 0;\r\n    left: 0;\r\n    margin: -4px 0 0 -4px;\r\n    cursor: se-resize;\r\n}\r\n\r\n.ptro-wrapper .ptro-crp-bl {\r\n    position: absolute;\r\n    left: 0;\r\n    bottom: 0;\r\n    margin: 0 0 -4px -4px;\r\n    cursor: ne-resize;\r\n}\r\n\r\n.ptro-wrapper .ptro-crp-br {\r\n    position: absolute;\r\n    right: 0;\r\n    bottom: 0;\r\n    margin: 0 -4px -4px 0;\r\n    cursor: se-resize;\r\n}\r\n\r\n.ptro-wrapper .ptro-crp-tr {\r\n    position: absolute;\r\n    right: 0;\r\n    top: 0;\r\n    margin: -4px -4px 0 0;\r\n    cursor: ne-resize;\r\n}\r\n\r\n\r\n.ptro-wrapper .ptro-crp-l {\r\n    position: absolute;\r\n    top: 50%;\r\n    left: 0;\r\n    margin: -4px 0 0 -4px;\r\n    cursor: e-resize;\r\n}\r\n\r\n.ptro-wrapper .ptro-crp-t {\r\n    position: absolute;\r\n    top: 0;\r\n    left: 50%;\r\n    margin: -4px 0 0 -4px;\r\n    cursor: s-resize;\r\n}\r\n\r\n.ptro-wrapper .ptro-crp-r {\r\n    position: absolute;\r\n    top: 50%;\r\n    right: 0;\r\n    margin: -4px -4px 0 0 ;\r\n    cursor: e-resize;\r\n}\r\n\r\n.ptro-wrapper .ptro-crp-b {\r\n    position: absolute;\r\n    left: 50%;\r\n    bottom: 0;\r\n    margin: 0 0 -4px -4px;\r\n    cursor: s-resize;\r\n}\r\n\r\n.ptro-wrapper div,\r\n.ptro-wrapper span,\r\n.ptro-wrapper i,\r\n.ptro-bar .ptro-tool-ctl-name,\r\n.ptro-bar input,\r\n.ptro-bar .ptro-named-btn p {\r\n    -moz-user-select: none;\r\n   /* -webkit-user-select: none; */\r\n    -ms-user-select: none;\r\n    user-select: none;\r\n    -webkit-user-drag: none;\r\n    user-drag: none;\r\n    -webkit-touch-callout: none;\r\n}\r\n\r\n.ptro-bar > div {\r\n    overflow-x: auto;\r\n    overflow-y: hidden;\r\n    height: 100%;\r\n    display: flex;\r\n    align-items: center;\r\n}\r\n\r\n\r\n\r\n.ptro-wrapper .ptro-common-widget-wrapper {\r\n    position: absolute;\r\n    background-color: rgba(0, 0, 0, 0.6);\r\n    top: 0;\r\n    bottom: 0;\r\n    left: 0;\r\n    right: 0;\r\n}\r\n\r\n.ptro-wrapper .ptro-pallet canvas {\r\n    cursor: crosshair;\r\n}\r\n\r\ndiv.ptro-pallet {\r\n    line-height: 0;\r\n}\r\n\r\n.ptro-wrapper .ptro-pallet,\r\n.ptro-wrapper .ptro-resize-widget{\r\n    width: 200px;\r\n    padding: 10px;\r\n    z-index: 100;\r\n    box-sizing: border-box;\r\n}\r\n\r\n.ptro-error {\r\n    background-color: rgba(200, 0, 0, 0.5);\r\n    padding: 5px;\r\n    margin: 5px;\r\n    color: white;\r\n}\r\n\r\n.ptro-v-middle:before {\r\n    content: "";\r\n    display: inline-block;\r\n    vertical-align: middle;\r\n    height: 100%;\r\n}\r\n\r\n.ptro-v-middle-in {\r\n    display: inline-block;\r\n    vertical-align: middle;\r\n    position: relative;\r\n}\r\n\r\n.ptro-wrapper .ptro-settings-widget {\r\n    width: 300px;\r\n    padding: 10px;\r\n    z-index: 100;\r\n    box-sizing: border-box;\r\n}\r\n\r\ntd.ptro-resize-table-left {\r\n    text-align: right;\r\n    padding-right: 5px;\r\n    float: none;\r\n    font-size: 14px;\r\n}\r\n\r\n.ptro-wrapper .ptro-color-edit {\r\n    margin-top: 15px;\r\n}\r\n\r\n.ptro-wrapper .ptro-color-edit input {\r\n    float: left;\r\n    height: 24px;\r\n    text-align: center;\r\n    font-family: monospace;\r\n    font-size: 14px;\r\n}\r\n\r\n.ptro-wrapper .ptro-color-edit input:focus {\r\n    outline: none;\r\n}\r\n\r\n.ptro-wrapper .ptro-color-edit input.ptro-color {\r\n    width: 70px;\r\n}\r\n\r\n.ptro-wrapper .ptro-color-edit input.ptro-color-alpha {\r\n    font-size: 14px;\r\n    width: 55px;\r\n    padding: 0 0 0 2px;\r\n    line-height: 23px;\r\n    height: 23px;\r\n}\r\n\r\n.ptro-wrapper .ptro-color-alpha-label,\r\n.ptro-wrapper .ptro-label  {\r\n    float: left;\r\n    padding: 0 2px 0 0;\r\n    margin-left: 5px;\r\n    font-family: "Open Sans", sans-serif;\r\n}\r\n\r\n.ptro-pixel-size-input {\r\n    width: 60px;\r\n}\r\n\r\n.ptro-wrapper .ptro-pipette {\r\n    height: 24px;\r\n    width: 24px;\r\n    margin: 0;\r\n}\r\n\r\ndiv.ptro-color-widget-wrapper {\r\n\tz-index: 1000;\r\n}\r\n\r\n.ptro-wrapper .ptro-pipette i {\r\n    line-height: 16px;\r\n}\r\n\r\n.ptro-wrapper .ptro-pipette:active {\r\n    outline: none;\r\n}\r\n\r\n.ptro-wrapper .ptro-color-widget-wrapper .ptro-canvas-light,\r\n.ptro-wrapper .ptro-color-widget-wrapper .ptro-canvas-alpha {\r\n    margin-top: 10px;\r\n}\r\n\r\nspan.ptro-color-light-regulator,\r\nspan.ptro-color-alpha-regulator {\r\n    display: block;\r\n    margin-top: -5px;\r\n    margin-left: 5px;\r\n    position: absolute;\r\n    width: 0;\r\n    height: 0;\r\n    border-left: 5px solid transparent;\r\n    border-right: 5px solid transparent;\r\n    border-bottom: 5px solid;\r\n    cursor: crosshair;\r\n}\r\n\r\nspan.ptro-color-alpha-regulator {\r\n    margin-top: 0;\r\n}\r\n\r\n.alpha-checkers {\r\n    background-image: url('+T+");\r\n    display: block;\r\n    width: 100%;\r\n    height: 15px;\r\n    background-size: 10px 10px;\r\n    margin-top: -20px;\r\n}\r\n\r\ninput.ptro-input:focus,\r\nselect.ptro-input:focus {\r\n    outline: none;\r\n    box-shadow: none ;\r\n}\r\n\r\ninput.ptro-input,\r\nselect.ptro-input {\r\n    vertical-align: initial;\r\n    padding-top: 0;\r\n    padding-bottom: 0;\r\n    padding-right: 0;\r\n}\r\n\r\n.ptro-named-btn p {\r\n    font-size: inherit;\r\n    line-height: normal;\r\n    margin: inherit;\r\n}\r\n\r\n.ptro-wrapper .ptro-zoomer {\r\n    border-top:1px solid white;\r\n    border-left:1px solid white;\r\n    position: absolute;\r\n    z-index: 2000;\r\n    display: none;\r\n}\r\n\r\n.ptro-text-tool-input {\r\n    background-color: rgba(0,0,0,0);\r\n    width: auto;\r\n    outline: 1px dotted;\r\n    display: block;\r\n    min-width: 5px;\r\n    padding: 0 1px;\r\n    overflow-x: hidden;\r\n    word-wrap: normal;\r\n    overflow-y: hidden;\r\n    box-sizing: content-box;\r\n    line-height: normal;\r\n    text-align: left;\r\n}\r\n.ptro-paster-wrappers-fits {\r\n    display: flex;\r\n    justify-content: space-around;\r\n    align-items: center;\r\n}\r\n.ptro-selector-extend[type] {\r\n    height: 70px;\r\n    width: 70px;\r\n}\r\n.ptro-selector-extend div:last-child {\r\n    display: none;\r\n}\r\n.ptro-selector-fit[type] {\r\n    height: 220px;\r\n    width: 220px;\r\n    margin: 0px;\r\n}\r\n.ptro-paster-fit[class] {\r\n    margin-right: 46px;\r\n}\r\n.ptro-text-tool-buttons {\r\n    display: flex;\r\n    position: absolute;\r\n}\r\n.ptro-text-tool-input-wrapper {\r\n    position: absolute;\r\n}\r\n\r\nspan.ptro-btn-color-checkers {\r\n    background-image: url("+T+");\r\n    display: block;\r\n    width: 32px;\r\n    height: 32px;\r\n    background-size: 16px 16px;\r\n    margin-top: -32px;\r\n}\r\n\r\nspan.ptro-btn-color-checkers-bar {\r\n    background-image: url("+T+');\r\n    width: 32px;\r\n    line-height: 12px;\r\n    height: 32px;\r\n    background-size: 16px 16px;\r\n    z-index: 0;\r\n    position: relative;\r\n    margin-left: -32px;\r\n}\r\n\r\n.ptro-bar-right {\r\n    display: flex;\r\n\r\n}\r\n\r\n.ptro-link {\r\n    float: left;\r\n    margin-right: -12px;\r\n    margin-top: -23px;\r\n}\r\n\r\n.ptro-resize-link-wrapper {\r\n    display: inline-block;\r\n    height: 40px;\r\n}\r\n\r\n\r\ninput.ptro-resize-width-input,\r\ninput.ptro-resize-heigth-input,\r\ninput.ptro-pixel-size-input {\r\n    line-height: 22px;\r\n    padding: 0 0 0 4px;\r\n    height: 22px;\r\n    width: 80px;\r\n}\r\n\r\n.ptro-selector-btn i {\r\n    font-size: 56px;\r\n}\r\n\r\n.ptro-selector-btn {\r\n    opacity: 0.8;\r\n    border: 0;\r\n    width: 100px;\r\n    cursor: pointer;\r\n}\r\n\r\n.ptro-selector-btn {\r\n    margin-left: 5px;\r\n    margin-right: 5px;\r\n    margin-top: 5px;\r\n    margin-bottom: 5px;\r\n}\r\n\r\n.ptro-selector-btn div {\r\n    margin: 5px 0;\r\n}\r\n\r\n.ptro-paster-select .ptro-in div {\r\n    font-family: "Open Sans", sans-serif;\r\n    font-size: 14px;\r\n}\r\n\r\n.ptro-selector-btn:hover {\r\n    opacity: 0.6;\r\n}\r\n\r\n.ptro-paster-select {\r\n    display: inline-block;\r\n    margin-left: auto;\r\n    margin-right: auto;\r\n    height: 100%;\r\n}\r\n\r\n.ptro-paster-select .ptro-in {\r\n    background-color: rgba(0,0,0,0.7);\r\n    padding: 40px;\r\n}\r\n.ptro-paster-select-wrapper {\r\n    position: absolute;\r\n    top: 0;\r\n    left: 0;\r\n    right: 0;\r\n    bottom: 0;\r\n}\r\n.ptro-paster-select-wrapper-extends button:first-child {\r\n    display: block;\r\n    margin: 0 auto;\r\n}\r\n.ptro-paster-select-wrapper-extends button:last-child{\r\n    display: block;\r\n    margin: 0 auto;\r\n}\r\n.ptro-paster-select-wrapper-extends button:nth-child(2){\r\n    display: inline-block;\r\n    margin-right: 78px;\r\n}\r\n.ptro-paster-fit .ptro-paster-wrapper-label[class] {\r\n    display: block; \r\n    color: white;\r\n    font-size: 20px;\r\n    text-align: center;\r\n    margin-top: 10px;\r\n    text-transform: uppercase;\r\n}\r\n.ptro-paster-select-wrapper-extends .ptro-paster-wrapper-label[class] {\r\n    display: block; \r\n    color: white;\r\n    font-size: 20px;\r\n    text-align: center;\r\n    margin-top: 10px;\r\n    text-transform: uppercase;\r\n}\r\n.ptro-paste-label {\r\n    color: white;\r\n    margin-bottom: 10px;\r\n}\r\n\r\n.ptro-iframe {\r\n    width: 100%;\r\n    height: 100%;\r\n    border: 0;\r\n}\r\n\r\n\r\n\r\ni.mce-i-painterro:before, span.mce_painterro:before {\r\n\tfont-size: 20px;\r\n\tfont-family: ptroiconfont;\r\n\tfont-style: normal;\r\n\tfont-weight: normal;\r\n\tfont-variant: normal;\r\n\ttext-transform: none;\r\n\tspeak: none;\r\n\t-webkit-font-smoothing: antialiased;\r\n\t-moz-osx-font-smoothing: grayscale;\r\n\tcontent: "\\f101";\r\n}\r\n\r\n.ptro-scroller {\r\n    position: absolute;\r\n    top: 0;\r\n    left: 0;\r\n    right: 0;\r\n    bottom: 0;\r\n}\r\n\r\ntd.ptro-strict-cell {\r\n    font-size: 8px;\r\n    line-height: normal;\r\n}',"",{version:3,sources:["webpack://./css/styles.css"],names:[],mappings:"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",sourcesContent:['.ptro-wrapper {\r\n    position: absolute;\r\n    top: 0;\r\n    left: 0;\r\n    right: 0;\r\n    text-align: center;\r\n    z-index: 10;\r\n    font-family: "Open Sans", sans-serif;\r\n}\r\n\r\n@media screen and (min-width: 869px) {\r\n    .ptro-holder {\r\n        position: fixed;\r\n        left: 35px;\r\n        right: 35px;\r\n        top: 35px;\r\n        bottom: 35px;\r\n        box-shadow: 1px 1px 5px #888;\r\n    }\r\n}\r\n\r\n@media screen and (max-width: 868px) {\r\n    .ptro-holder {\r\n        position: fixed;\r\n        box-shadow: 3px 3px 15px #787878;\r\n        left: 0;\r\n        right: 0;\r\n        top: 0;\r\n        bottom: 0;\r\n    }\r\n}\r\n\r\n.ptro-holder-wrapper {\r\n    position: fixed;\r\n    top: 0;\r\n    left: 0;\r\n    width: 100%;\r\n    height: 100%;\r\n    background-color: rgba(0,0,0,0.2);\r\n}\r\n\r\n.ptro-wrapper.ptro-v-aligned:before {\r\n    content: "";\r\n    display: inline-block;\r\n    vertical-align: middle;\r\n    height: 100%;\r\n}\r\n\r\n\r\n.ptro-icon {\r\n    font-size: 14px;\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n}\r\n\r\n\r\n.ptro-icon-btn:disabled {\r\n    color: gray;\r\n}\r\n\r\n.ptro-wrapper canvas {\r\n    /* vertical-align: middle; */\r\n    display: inline-block;\r\n    touch-action: none;\r\n    margin-left: auto;\r\n    margin-right: auto;\r\n    width: auto;\r\n    height: auto;\r\n}\r\n\r\n.ptro-center-table {\r\n    display:table;\r\n    width: 100%;\r\n    height: 100%;\r\n}\r\n\r\n.ptro-center-tablecell {\r\n    display:table-cell;\r\n    vertical-align:middle;\r\n}\r\n\r\n.ptro-icon-btn {\r\n    border: 0;\r\n    cursor: pointer;\r\n    flex-shrink: 0;\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n}\r\n\r\n.ptro-icon-btn i {\r\n}\r\n\r\n\r\n.ptro-named-btn {\r\n    border: 0;\r\n    display: inline-block;\r\n    height: 30px;\r\n    margin-left: 4px;\r\n    font-family: "Open Sans", sans-serif;\r\n    position: relative;\r\n    top:-5px;\r\n    font-size: 14px;\r\n    cursor: pointer;\r\n}\r\n\r\n.ptro-icon-btn:focus,\r\n.ptro-named-btn:focus,\r\n.color-diwget-btn:focus,\r\n.ptro-color-btn:focus,\r\n.ptro-selector-btn:focus {\r\n    outline: none;\r\n}\r\n\r\n.ptro-color-btn {\r\n    height: 32px;\r\n    width: 32px;\r\n    cursor: pointer;\r\n}\r\n\r\n\r\n.ptro-wrapper .select-handler {\r\n    background-color: white;\r\n    border: 1px solid black;\r\n    width: 6px;\r\n    height: 6px;\r\n    position: absolute;\r\n    z-index: 10;\r\n}\r\n\r\n.ptro-wrapper .ptro-crp-el {\r\n    position: absolute;\r\n}\r\n\r\n.ptro-wrapper .ptro-substrate {\r\n    opacity: 0.3;\r\n    background-image: url("checkers.svg");\r\n    background-size: 32px 32px;\r\n    z-index: -1;\r\n    position: absolute;\r\n}\r\n\r\n.ptro-wrapper .ptro-close-color-picker {\r\n    height: 24px;\r\n    margin-top: 5px;\r\n    margin-bottom: -5px;\r\n    margin-left: auto;\r\n}\r\n\r\n.ptro-tool-controls {\r\n    flex-shrink: 0;\r\n    display: flex;\r\n    align-items: center;\r\n}\r\n\r\n.ptro-wrapper .ptro-crp-rect {\r\n    position: absolute;\r\n    background-color: rgba(225, 225, 225, .5);\r\n    border: 1px dashed black;\r\n    cursor: move;\r\n    -moz-user-select: none;\r\n    /* -webkit-user-select: none; */\r\n    -ms-user-select: none;\r\n    user-select: none;\r\n    -webkit-user-drag: none;\r\n    user-drag: none;\r\n    -webkit-touch-callout: none;\r\n    background-repeat: no-repeat;\r\n    background-size: 100% 100%;\r\n}\r\n\r\n.ptro-wrapper .ptro-crp-tl {\r\n    position: absolute;\r\n    top: 0;\r\n    left: 0;\r\n    margin: -4px 0 0 -4px;\r\n    cursor: se-resize;\r\n}\r\n\r\n.ptro-wrapper .ptro-crp-bl {\r\n    position: absolute;\r\n    left: 0;\r\n    bottom: 0;\r\n    margin: 0 0 -4px -4px;\r\n    cursor: ne-resize;\r\n}\r\n\r\n.ptro-wrapper .ptro-crp-br {\r\n    position: absolute;\r\n    right: 0;\r\n    bottom: 0;\r\n    margin: 0 -4px -4px 0;\r\n    cursor: se-resize;\r\n}\r\n\r\n.ptro-wrapper .ptro-crp-tr {\r\n    position: absolute;\r\n    right: 0;\r\n    top: 0;\r\n    margin: -4px -4px 0 0;\r\n    cursor: ne-resize;\r\n}\r\n\r\n\r\n.ptro-wrapper .ptro-crp-l {\r\n    position: absolute;\r\n    top: 50%;\r\n    left: 0;\r\n    margin: -4px 0 0 -4px;\r\n    cursor: e-resize;\r\n}\r\n\r\n.ptro-wrapper .ptro-crp-t {\r\n    position: absolute;\r\n    top: 0;\r\n    left: 50%;\r\n    margin: -4px 0 0 -4px;\r\n    cursor: s-resize;\r\n}\r\n\r\n.ptro-wrapper .ptro-crp-r {\r\n    position: absolute;\r\n    top: 50%;\r\n    right: 0;\r\n    margin: -4px -4px 0 0 ;\r\n    cursor: e-resize;\r\n}\r\n\r\n.ptro-wrapper .ptro-crp-b {\r\n    position: absolute;\r\n    left: 50%;\r\n    bottom: 0;\r\n    margin: 0 0 -4px -4px;\r\n    cursor: s-resize;\r\n}\r\n\r\n.ptro-wrapper div,\r\n.ptro-wrapper span,\r\n.ptro-wrapper i,\r\n.ptro-bar .ptro-tool-ctl-name,\r\n.ptro-bar input,\r\n.ptro-bar .ptro-named-btn p {\r\n    -moz-user-select: none;\r\n   /* -webkit-user-select: none; */\r\n    -ms-user-select: none;\r\n    user-select: none;\r\n    -webkit-user-drag: none;\r\n    user-drag: none;\r\n    -webkit-touch-callout: none;\r\n}\r\n\r\n.ptro-bar > div {\r\n    overflow-x: auto;\r\n    overflow-y: hidden;\r\n    height: 100%;\r\n    display: flex;\r\n    align-items: center;\r\n}\r\n\r\n\r\n\r\n.ptro-wrapper .ptro-common-widget-wrapper {\r\n    position: absolute;\r\n    background-color: rgba(0, 0, 0, 0.6);\r\n    top: 0;\r\n    bottom: 0;\r\n    left: 0;\r\n    right: 0;\r\n}\r\n\r\n.ptro-wrapper .ptro-pallet canvas {\r\n    cursor: crosshair;\r\n}\r\n\r\ndiv.ptro-pallet {\r\n    line-height: 0;\r\n}\r\n\r\n.ptro-wrapper .ptro-pallet,\r\n.ptro-wrapper .ptro-resize-widget{\r\n    width: 200px;\r\n    padding: 10px;\r\n    z-index: 100;\r\n    box-sizing: border-box;\r\n}\r\n\r\n.ptro-error {\r\n    background-color: rgba(200, 0, 0, 0.5);\r\n    padding: 5px;\r\n    margin: 5px;\r\n    color: white;\r\n}\r\n\r\n.ptro-v-middle:before {\r\n    content: "";\r\n    display: inline-block;\r\n    vertical-align: middle;\r\n    height: 100%;\r\n}\r\n\r\n.ptro-v-middle-in {\r\n    display: inline-block;\r\n    vertical-align: middle;\r\n    position: relative;\r\n}\r\n\r\n.ptro-wrapper .ptro-settings-widget {\r\n    width: 300px;\r\n    padding: 10px;\r\n    z-index: 100;\r\n    box-sizing: border-box;\r\n}\r\n\r\ntd.ptro-resize-table-left {\r\n    text-align: right;\r\n    padding-right: 5px;\r\n    float: none;\r\n    font-size: 14px;\r\n}\r\n\r\n.ptro-wrapper .ptro-color-edit {\r\n    margin-top: 15px;\r\n}\r\n\r\n.ptro-wrapper .ptro-color-edit input {\r\n    float: left;\r\n    height: 24px;\r\n    text-align: center;\r\n    font-family: monospace;\r\n    font-size: 14px;\r\n}\r\n\r\n.ptro-wrapper .ptro-color-edit input:focus {\r\n    outline: none;\r\n}\r\n\r\n.ptro-wrapper .ptro-color-edit input.ptro-color {\r\n    width: 70px;\r\n}\r\n\r\n.ptro-wrapper .ptro-color-edit input.ptro-color-alpha {\r\n    font-size: 14px;\r\n    width: 55px;\r\n    padding: 0 0 0 2px;\r\n    line-height: 23px;\r\n    height: 23px;\r\n}\r\n\r\n.ptro-wrapper .ptro-color-alpha-label,\r\n.ptro-wrapper .ptro-label  {\r\n    float: left;\r\n    padding: 0 2px 0 0;\r\n    margin-left: 5px;\r\n    font-family: "Open Sans", sans-serif;\r\n}\r\n\r\n.ptro-pixel-size-input {\r\n    width: 60px;\r\n}\r\n\r\n.ptro-wrapper .ptro-pipette {\r\n    height: 24px;\r\n    width: 24px;\r\n    margin: 0;\r\n}\r\n\r\ndiv.ptro-color-widget-wrapper {\r\n\tz-index: 1000;\r\n}\r\n\r\n.ptro-wrapper .ptro-pipette i {\r\n    line-height: 16px;\r\n}\r\n\r\n.ptro-wrapper .ptro-pipette:active {\r\n    outline: none;\r\n}\r\n\r\n.ptro-wrapper .ptro-color-widget-wrapper .ptro-canvas-light,\r\n.ptro-wrapper .ptro-color-widget-wrapper .ptro-canvas-alpha {\r\n    margin-top: 10px;\r\n}\r\n\r\nspan.ptro-color-light-regulator,\r\nspan.ptro-color-alpha-regulator {\r\n    display: block;\r\n    margin-top: -5px;\r\n    margin-left: 5px;\r\n    position: absolute;\r\n    width: 0;\r\n    height: 0;\r\n    border-left: 5px solid transparent;\r\n    border-right: 5px solid transparent;\r\n    border-bottom: 5px solid;\r\n    cursor: crosshair;\r\n}\r\n\r\nspan.ptro-color-alpha-regulator {\r\n    margin-top: 0;\r\n}\r\n\r\n.alpha-checkers {\r\n    background-image: url("checkers.svg");\r\n    display: block;\r\n    width: 100%;\r\n    height: 15px;\r\n    background-size: 10px 10px;\r\n    margin-top: -20px;\r\n}\r\n\r\ninput.ptro-input:focus,\r\nselect.ptro-input:focus {\r\n    outline: none;\r\n    box-shadow: none ;\r\n}\r\n\r\ninput.ptro-input,\r\nselect.ptro-input {\r\n    vertical-align: initial;\r\n    padding-top: 0;\r\n    padding-bottom: 0;\r\n    padding-right: 0;\r\n}\r\n\r\n.ptro-named-btn p {\r\n    font-size: inherit;\r\n    line-height: normal;\r\n    margin: inherit;\r\n}\r\n\r\n.ptro-wrapper .ptro-zoomer {\r\n    border-top:1px solid white;\r\n    border-left:1px solid white;\r\n    position: absolute;\r\n    z-index: 2000;\r\n    display: none;\r\n}\r\n\r\n.ptro-text-tool-input {\r\n    background-color: rgba(0,0,0,0);\r\n    width: auto;\r\n    outline: 1px dotted;\r\n    display: block;\r\n    min-width: 5px;\r\n    padding: 0 1px;\r\n    overflow-x: hidden;\r\n    word-wrap: normal;\r\n    overflow-y: hidden;\r\n    box-sizing: content-box;\r\n    line-height: normal;\r\n    text-align: left;\r\n}\r\n.ptro-paster-wrappers-fits {\r\n    display: flex;\r\n    justify-content: space-around;\r\n    align-items: center;\r\n}\r\n.ptro-selector-extend[type] {\r\n    height: 70px;\r\n    width: 70px;\r\n}\r\n.ptro-selector-extend div:last-child {\r\n    display: none;\r\n}\r\n.ptro-selector-fit[type] {\r\n    height: 220px;\r\n    width: 220px;\r\n    margin: 0px;\r\n}\r\n.ptro-paster-fit[class] {\r\n    margin-right: 46px;\r\n}\r\n.ptro-text-tool-buttons {\r\n    display: flex;\r\n    position: absolute;\r\n}\r\n.ptro-text-tool-input-wrapper {\r\n    position: absolute;\r\n}\r\n\r\nspan.ptro-btn-color-checkers {\r\n    background-image: url("checkers.svg");\r\n    display: block;\r\n    width: 32px;\r\n    height: 32px;\r\n    background-size: 16px 16px;\r\n    margin-top: -32px;\r\n}\r\n\r\nspan.ptro-btn-color-checkers-bar {\r\n    background-image: url("checkers.svg");\r\n    width: 32px;\r\n    line-height: 12px;\r\n    height: 32px;\r\n    background-size: 16px 16px;\r\n    z-index: 0;\r\n    position: relative;\r\n    margin-left: -32px;\r\n}\r\n\r\n.ptro-bar-right {\r\n    display: flex;\r\n\r\n}\r\n\r\n.ptro-link {\r\n    float: left;\r\n    margin-right: -12px;\r\n    margin-top: -23px;\r\n}\r\n\r\n.ptro-resize-link-wrapper {\r\n    display: inline-block;\r\n    height: 40px;\r\n}\r\n\r\n\r\ninput.ptro-resize-width-input,\r\ninput.ptro-resize-heigth-input,\r\ninput.ptro-pixel-size-input {\r\n    line-height: 22px;\r\n    padding: 0 0 0 4px;\r\n    height: 22px;\r\n    width: 80px;\r\n}\r\n\r\n.ptro-selector-btn i {\r\n    font-size: 56px;\r\n}\r\n\r\n.ptro-selector-btn {\r\n    opacity: 0.8;\r\n    border: 0;\r\n    width: 100px;\r\n    cursor: pointer;\r\n}\r\n\r\n.ptro-selector-btn {\r\n    margin-left: 5px;\r\n    margin-right: 5px;\r\n    margin-top: 5px;\r\n    margin-bottom: 5px;\r\n}\r\n\r\n.ptro-selector-btn div {\r\n    margin: 5px 0;\r\n}\r\n\r\n.ptro-paster-select .ptro-in div {\r\n    font-family: "Open Sans", sans-serif;\r\n    font-size: 14px;\r\n}\r\n\r\n.ptro-selector-btn:hover {\r\n    opacity: 0.6;\r\n}\r\n\r\n.ptro-paster-select {\r\n    display: inline-block;\r\n    margin-left: auto;\r\n    margin-right: auto;\r\n    height: 100%;\r\n}\r\n\r\n.ptro-paster-select .ptro-in {\r\n    background-color: rgba(0,0,0,0.7);\r\n    padding: 40px;\r\n}\r\n.ptro-paster-select-wrapper {\r\n    position: absolute;\r\n    top: 0;\r\n    left: 0;\r\n    right: 0;\r\n    bottom: 0;\r\n}\r\n.ptro-paster-select-wrapper-extends button:first-child {\r\n    display: block;\r\n    margin: 0 auto;\r\n}\r\n.ptro-paster-select-wrapper-extends button:last-child{\r\n    display: block;\r\n    margin: 0 auto;\r\n}\r\n.ptro-paster-select-wrapper-extends button:nth-child(2){\r\n    display: inline-block;\r\n    margin-right: 78px;\r\n}\r\n.ptro-paster-fit .ptro-paster-wrapper-label[class] {\r\n    display: block; \r\n    color: white;\r\n    font-size: 20px;\r\n    text-align: center;\r\n    margin-top: 10px;\r\n    text-transform: uppercase;\r\n}\r\n.ptro-paster-select-wrapper-extends .ptro-paster-wrapper-label[class] {\r\n    display: block; \r\n    color: white;\r\n    font-size: 20px;\r\n    text-align: center;\r\n    margin-top: 10px;\r\n    text-transform: uppercase;\r\n}\r\n.ptro-paste-label {\r\n    color: white;\r\n    margin-bottom: 10px;\r\n}\r\n\r\n.ptro-iframe {\r\n    width: 100%;\r\n    height: 100%;\r\n    border: 0;\r\n}\r\n\r\n\r\n\r\ni.mce-i-painterro:before, span.mce_painterro:before {\r\n\tfont-size: 20px;\r\n\tfont-family: ptroiconfont;\r\n\tfont-style: normal;\r\n\tfont-weight: normal;\r\n\tfont-variant: normal;\r\n\ttext-transform: none;\r\n\tspeak: none;\r\n\t-webkit-font-smoothing: antialiased;\r\n\t-moz-osx-font-smoothing: grayscale;\r\n\tcontent: "\\f101";\r\n}\r\n\r\n.ptro-scroller {\r\n    position: absolute;\r\n    top: 0;\r\n    left: 0;\r\n    right: 0;\r\n    bottom: 0;\r\n}\r\n\r\ntd.ptro-strict-cell {\r\n    font-size: 8px;\r\n    line-height: normal;\r\n}'],sourceRoot:""}]);const L=S},645:g=>{g.exports=function(g){var m=[];return m.toString=function(){return this.map((function(u){var m=g(u);return u[2]?"@media ".concat(u[2]," {").concat(m,"}"):m})).join("")},m.i=function(g,w,b){"string"==typeof g&&(g=[[null,g,""]]);var x={};if(b)for(var v=0;v<(this||u).length;v++){var I=(this||u)[v][0];null!=I&&(x[I]=!0)}for(var y=0;y<g.length;y++){var k=[].concat(g[y]);b&&x[k[0]]||(w&&(k[2]?k[2]="".concat(w," and ").concat(k[2]):k[2]=w),m.push(k))}},m}},15:u=>{function e(u,g){return function(u){if(Array.isArray(u))return u}(u)||function(u,g){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(u)){var m=[],w=!0,b=!1,x=void 0;try{for(var v,I=u[Symbol.iterator]();!(w=(v=I.next()).done)&&(m.push(v.value),!g||m.length!==g);w=!0);}catch(u){b=!0,x=u}finally{try{w||null==I.return||I.return()}finally{if(b)throw x}}return m}}(u,g)||function(u,g){if(u){if("string"==typeof u)return i(u,g);var m=Object.prototype.toString.call(u).slice(8,-1);"Object"===m&&u.constructor&&(m=u.constructor.name);return"Map"===m||"Set"===m?Array.from(u):"Arguments"===m||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(m)?i(u,g):void 0}}(u,g)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(u,g){(null==g||g>u.length)&&(g=u.length);for(var m=0,w=new Array(g);m<g;m++)w[m]=u[m];return w}u.exports=function(u){var g=e(u,4),m=g[1],w=g[3];if("function"==typeof btoa){var b=btoa(unescape(encodeURIComponent(JSON.stringify(w)))),x="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(b),v="/*# ".concat(x," */"),I=w.sources.map((function(u){return"/*# sourceURL=".concat(w.sourceRoot||"").concat(u," */")}));return[m].concat(I).concat([v]).join("\n")}return[m].join("\n")}},667:u=>{u.exports=function(u,g){return g||(g={}),"string"!=typeof(u=u&&u.__esModule?u.default:u)?u:(/^['"].*['"]$/.test(u)&&(u=u.slice(1,-1)),g.hash&&(u+=g.hash),/["'() \t\n]/.test(u)||g.needQuotes?'"'.concat(u.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):u)}},306:function(u){!function(g){var m=function(){return{escape:function(u){return u.replace(/([.*+?^${}()|\[\]\/\\])/g,"\\$1")},parseExtension:e,mimeType:function(u){var g=e(u).toLowerCase();return(m="application/font-woff",w="image/jpeg",{woff:m,woff2:m,ttf:"application/font-truetype",eot:"application/vnd.ms-fontobject",png:"image/png",jpg:w,jpeg:w,gif:"image/gif",tiff:"image/tiff",svg:"image/svg+xml"})[g]||"";var m,w},dataAsUrl:function(u,g){return"data:"+g+";base64,"+u},isDataUrl:function(u){return-1!==u.search(/^(data:)/)},canvasToBlob:function(u){return u.toBlob?new Promise((function(g){u.toBlob(g)})):function(u){return new Promise((function(g){for(var m=window.atob(u.toDataURL().split(",")[1]),w=m.length,b=new Uint8Array(w),x=0;x<w;x++)b[x]=m.charCodeAt(x);g(new Blob([b],{type:"image/png"}))}))}(u)},resolveUrl:function(u,g){var m=document.implementation.createHTMLDocument(),w=m.createElement("base");m.head.appendChild(w);var b=m.createElement("a");return m.body.appendChild(b),w.href=g,b.href=u,b.href},getAndEncode:function(u){var g=3e4;I.impl.options.cacheBust&&(u+=(/\?/.test(u)?"&":"?")+(new Date).getTime());return new Promise((function(m){var w,b=new XMLHttpRequest;if(b.onreadystatechange=a,b.ontimeout=l,b.responseType="blob",b.timeout=g,b.open("GET",u,!0),b.send(),I.impl.options.imagePlaceholder){var x=I.impl.options.imagePlaceholder.split(/,/);x&&x[1]&&(w=x[1])}function a(){if(4===b.readyState)if(200===b.status){var g=new FileReader;g.onloadend=function(){var u=g.result.split(/,/)[1];m(u)},g.readAsDataURL(b.response)}else w?m(w):A("cannot fetch resource: "+u+", status: "+b.status)}function l(){w?m(w):A("timeout of "+g+"ms occured while fetching resource: "+u)}function A(u){console.error(u),m("")}}))},uid:(u=0,function(){return"u"+e()+u++;function e(){return("0000"+(Math.random()*Math.pow(36,4)<<0).toString(36)).slice(-4)}}),delay:function(u){return function(g){return new Promise((function(m){setTimeout((function(){m(g)}),u)}))}},asArray:function(u){for(var g=[],m=u.length,w=0;w<m;w++)g.push(u[w]);return g},escapeXhtml:function(u){return u.replace(/#/g,"%23").replace(/\n/g,"%0A")},makeImage:function(u){return new Promise((function(g,m){var w=new Image;w.onload=function(){g(w)},w.onerror=m,w.src=u}))},width:function(u){var g=i(u,"border-left-width"),m=i(u,"border-right-width");return u.scrollWidth+g+m},height:function(u){var g=i(u,"border-top-width"),m=i(u,"border-bottom-width");return u.scrollHeight+g+m}};var u;function e(u){var g=/\.([^\.\/]*?)$/g.exec(u);return g?g[1]:""}function i(u,g){var m=window.getComputedStyle(u).getPropertyValue(g);return parseFloat(m.replace("px",""))}}(),w=function(){var u=/url\(['"]?([^'"]+?)['"]?\)/g;return{inlineAll:function(u,g,m){return a()?Promise.resolve(u):Promise.resolve(u).then(r).then((function(w){var b=Promise.resolve(u);return w.forEach((function(u){b=b.then((function(w){return n(w,u,g,m)}))})),b}));function a(){return!e(u)}},shouldProcess:e,impl:{readUrls:r,inline:n}};function e(g){return-1!==g.search(u)}function r(g){for(var w,b=[];null!==(w=u.exec(g));)b.push(w[1]);return b.filter((function(u){return!m.isDataUrl(u)}))}function n(u,g,w,b){return Promise.resolve(g).then((function(u){return w?m.resolveUrl(u,w):u})).then(b||m.getAndEncode).then((function(u){return m.dataAsUrl(u,m.mimeType(g))})).then((function(w){return u.replace(function(u){return new RegExp("(url\\(['\"]?)("+m.escape(u)+")(['\"]?\\))","g")}(g),"$1"+w+"$3")}))}}(),b=function(){return{resolveAll:function(){return t(document).then((function(u){return Promise.all(u.map((function(u){return u.resolve()})))})).then((function(u){return u.join("\n")}))},impl:{readAll:t}};function t(){return Promise.resolve(m.asArray(document.styleSheets)).then((function(u){var g=[];return u.forEach((function(u){try{m.asArray(u.cssRules||[]).forEach(g.push.bind(g))}catch(g){console.log("Error while reading CSS rules from "+u.href,g.toString())}})),g})).then((function(u){return u.filter((function(u){return u.type===CSSRule.FONT_FACE_RULE})).filter((function(u){return w.shouldProcess(u.style.getPropertyValue("src"))}))})).then((function(u){return u.map(t)}));function t(u){return{resolve:function(){var g=(u.parentStyleSheet||{}).href;return w.inlineAll(u.cssText,g)},src:function(){return u.style.getPropertyValue("src")}}}}}(),x=function(){return{inlineAll:function e(u){return u instanceof Element?o(u).then((function(){return u instanceof HTMLImageElement?t(u).inline():Promise.all(m.asArray(u.childNodes).map((function(u){return e(u)})))})):Promise.resolve(u);function o(u){var g=u.style.getPropertyValue("background");return g?w.inlineAll(g).then((function(g){u.style.setProperty("background",g,u.style.getPropertyPriority("background"))})).then((function(){return u})):Promise.resolve(u)}},impl:{newImage:t}};function t(u){return{inline:function(g){return m.isDataUrl(u.src)?Promise.resolve():Promise.resolve(u.src).then(g||m.getAndEncode).then((function(g){return m.dataAsUrl(g,m.mimeType(u.src))})).then((function(g){return new Promise((function(m,w){u.onload=m,u.onerror=w,u.src=g}))}))}}}}(),v={imagePlaceholder:void 0,cacheBust:!1},I={toSvg:l,toPng:function(u,g){return A(u,g||{}).then((function(u){return u.toDataURL()}))},toJpeg:function(u,g){return A(u,g=g||{}).then((function(u){return u.toDataURL("image/jpeg",g.quality||1)}))},toBlob:function(u,g){return A(u,g||{}).then(m.canvasToBlob)},toPixelData:function(u,g){return A(u,g||{}).then((function(g){return g.getContext("2d").getImageData(0,0,m.width(u),m.height(u)).data}))},impl:{fontFaces:b,images:x,util:m,inliner:w,options:{}}};function l(u,g){return function(u){void 0===u.imagePlaceholder?I.impl.options.imagePlaceholder=v.imagePlaceholder:I.impl.options.imagePlaceholder=u.imagePlaceholder;void 0===u.cacheBust?I.impl.options.cacheBust=v.cacheBust:I.impl.options.cacheBust=u.cacheBust}(g=g||{}),Promise.resolve(u).then((function(u){return h(u,g.filter,!0)})).then(c).then(p).then((function(u){g.bgcolor&&(u.style.backgroundColor=g.bgcolor);g.width&&(u.style.width=g.width+"px");g.height&&(u.style.height=g.height+"px");g.style&&Object.keys(g.style).forEach((function(m){u.style[m]=g.style[m]}));return u})).then((function(w){return function(u,g,w){return Promise.resolve(u).then((function(u){return u.setAttribute("xmlns","http://www.w3.org/1999/xhtml"),(new XMLSerializer).serializeToString(u)})).then(m.escapeXhtml).then((function(u){return'<foreignObject x="0" y="0" width="100%" height="100%">'+u+"</foreignObject>"})).then((function(u){return'<svg xmlns="http://www.w3.org/2000/svg" width="'+g+'" height="'+w+'">'+u+"</svg>"})).then((function(u){return"data:image/svg+xml;charset=utf-8,"+u}))}(w,g.width||m.width(u),g.height||m.height(u))}))}function A(u,g){return l(u,g).then(m.makeImage).then(m.delay(100)).then((function(w){var b=function(u){var w=document.createElement("canvas");if(w.width=g.width||m.width(u),w.height=g.height||m.height(u),g.bgcolor){var b=w.getContext("2d");b.fillStyle=g.bgcolor,b.fillRect(0,0,w.width,w.height)}return w}(u);return b.getContext("2d").drawImage(w,0,0),b}))}function h(u,g,w){return w||!g||g(u)?Promise.resolve(u).then((function(u){return u instanceof HTMLCanvasElement?m.makeImage(u.toDataURL()):u.cloneNode(!1)})).then((function(w){return function(u,g,w){var b=u.childNodes;return 0===b.length?Promise.resolve(g):o(g,m.asArray(b),w).then((function(){return g}));function o(u,g,m){var w=Promise.resolve();return g.forEach((function(g){w=w.then((function(){return h(g,m)})).then((function(g){g&&u.appendChild(g)}))})),w}}(u,w,g)})).then((function(g){return function(u,g){return g instanceof Element?Promise.resolve().then(r).then(n).then(o).then(a).then((function(){return g})):g;function r(){function r(u,g){function r(u,g){m.asArray(u).forEach((function(m){g.setProperty(m,u.getPropertyValue(m),u.getPropertyPriority(m))}))}u.cssText?g.cssText=u.cssText:r(u,g)}r(window.getComputedStyle(u),g.style)}function n(){function r(w){var b=window.getComputedStyle(u,w),x=b.getPropertyValue("content");if(""!==x&&"none"!==x){var v=m.uid();g.className=g.className+" "+v;var I=document.createElement("style");I.appendChild(l(v,w,b)),g.appendChild(I)}function l(u,g,w){var b="."+u+":"+g,x=w.cssText?a(w):s(w);return document.createTextNode(b+"{"+x+"}");function a(u){var g=u.getPropertyValue("content");return u.cssText+" content: "+g+";"}function s(u){return m.asArray(u).map(e).join("; ")+";";function e(g){return g+": "+u.getPropertyValue(g)+(u.getPropertyPriority(g)?" !important":"")}}}}[":before",":after"].forEach((function(u){r(u)}))}function o(){u instanceof HTMLTextAreaElement&&(g.innerHTML=u.value),u instanceof HTMLInputElement&&g.setAttribute("value",u.value)}function a(){g instanceof SVGElement&&(g.setAttribute("xmlns","http://www.w3.org/2000/svg"),g instanceof SVGRectElement&&["width","height"].forEach((function(u){var m=g.getAttribute(u);m&&g.style.setProperty(u,m)})))}}(u,g)})):Promise.resolve()}function c(u){return b.resolveAll().then((function(g){var m=document.createElement("style");return u.appendChild(m),m.appendChild(document.createTextNode(g)),u}))}function p(u){return x.inlineAll(u).then((function(){return u}))}u.exports=I}()},21:(u,g,m)=>{m.r(g),m.d(g,{default:()=>Ct});var w=/iPhone/i,b=/iPod/i,x=/iPad/i,v=/\biOS-universal(?:.+)Mac\b/i,I=/\bAndroid(?:.+)Mobile\b/i,y=/Android/i,k=/(?:SD4930UR|\bSilk(?:.+)Mobile\b)/i,S=/Silk/i,T=/Windows Phone/i,L=/\bWindows(?:.+)ARM\b/i,Y=/BlackBerry/i,D=/BB10/i,R=/Opera Mini/i,N=/\b(CriOS|Chrome)(?:.+)Mobile/i,j=/Mobile(?:.+)Firefox\b/i,f=function(u){return void 0!==u&&"MacIntel"===u.platform&&"number"==typeof u.maxTouchPoints&&u.maxTouchPoints>1&&"undefined"==typeof MSStream};function B(u){var g={userAgent:"",platform:"",maxTouchPoints:0};u||"undefined"==typeof navigator?"string"==typeof u?g.userAgent=u:u&&u.userAgent&&(g={userAgent:u.userAgent,platform:u.platform,maxTouchPoints:u.maxTouchPoints||0}):g={userAgent:navigator.userAgent,platform:navigator.platform,maxTouchPoints:navigator.maxTouchPoints||0};var m=g.userAgent,H=m.split("[FBAN");void 0!==H[1]&&(m=H[0]),void 0!==(H=m.split("Twitter"))[1]&&(m=H[0]);var O=function(u){return function(g){return g.test(u)}}(m),G={apple:{phone:O(w)&&!O(T),ipod:O(b),tablet:!O(w)&&(O(x)||f(g))&&!O(T),universal:O(v),device:(O(w)||O(b)||O(x)||O(v)||f(g))&&!O(T)},amazon:{phone:O(k),tablet:!O(k)&&O(S),device:O(k)||O(S)},android:{phone:!O(T)&&O(k)||!O(T)&&O(I),tablet:!O(T)&&!O(k)&&!O(I)&&(O(S)||O(y)),device:!O(T)&&(O(k)||O(S)||O(I)||O(y))||O(/\bokhttp\b/i)},windows:{phone:O(T),tablet:O(L),device:O(T)||O(L)},other:{blackberry:O(Y),blackberry10:O(D),opera:O(R),firefox:O(j),chrome:O(N),device:O(Y)||O(D)||O(R)||O(j)||O(N)},any:!1,phone:!1,tablet:!1};return G.any=G.apple.device||G.android.device||G.windows.device||G.other.device,G.phone=G.apple.phone||G.android.phone||G.windows.phone,G.tablet=G.apple.tablet||G.android.tablet||G.windows.tablet,G}var H=m(379),O=m.n(H),G=m(170),J={insert:"head",singleton:!1};O()(G.Z,J);G.Z.locals;var U=m(737),Z={insert:"head",singleton:!1};O()(U.Z,Z);U.Z.locals;var et=m(223),it={insert:"head",singleton:!1};O()(et.Z,it);et.Z.locals;function z(){let u="ptro";const g="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";for(let m=0;m<20;m+=1)u+=g.charAt(Math.floor(Math.random()*g.length));return u}function E(u,g){const m=u.x-g.x,w=u.y-g.y;return Math.sqrt(m*m+w*w)}function Q(u){return String(u).replace(/^\s+|\s+$/g,"")}const st={y:89,z:90,s:83,c:67,x:88,a:65,l:76,p:80,r:82,o:79,b:66,e:69,t:84,f:70,enter:13,esc:27,del:46};function F(u){console.warn(`[Painterro] ${u}`)}class P{constructor(u,g){this.main=u,this.canvas=u.canvas,this.wrapper=u.wrapper,this.ctx=u.ctx,this.areaionCallback=g,this.shown=!1,this.area={el:u.toolContainer,rect:document.querySelector(`#${u.id} .ptro-crp-rect`)},this.imagePlaced=!1,this.areaionCallback(!1)}static code(){return'<div class="ptro-crp-rect" hidden><div class="ptro-crp-l select-handler"></div><div class="ptro-crp-r select-handler"></div><div class="ptro-crp-t select-handler"></div><div class="ptro-crp-b select-handler"></div><div class="ptro-crp-tl select-handler"></div><div class="ptro-crp-tr select-handler"></div><div class="ptro-crp-bl select-handler"></div><div class="ptro-crp-br select-handler"></div></div>'}activate(){this.area.activated=!0,this.areaionCallback(!1)}doCrop(){const u=this.ctx.getImageData(0,0,this.main.size.w,this.main.size.h);this.main.resize(this.area.bottoml[0]-this.area.topl[0],this.area.bottoml[1]-this.area.topl[1]),this.main.ctx.putImageData(u,-this.area.topl[0],-this.area.topl[1]),this.main.adjustSizeFull(),this.main.worklog.captureState()}doPixelize(){const u=this.area.topl,g=[this.area.bottoml[0]-u[0],this.area.bottoml[1]-u[1]];if(this.pixelizePixelSize=this.main.params.pixelizePixelSize,"%"===this.pixelizePixelSize.slice(-1)?this.pixelSize=Math.min(g[0],g[1])/(100/this.pixelizePixelSize.slice(0,-1)):"px"===this.pixelizePixelSize.slice(-2).toLowerCase()?this.pixelSize=this.pixelizePixelSize.slice(0,-2):this.pixelSize=this.pixelizePixelSize,this.pixelSize<2&&(this.pixelSize=2),g[1]<g[0]){this.pixelSizeY=this.pixelSize;const u=Math.round(g[0]/this.pixelSizeY);this.pixelSizeX=1*g[0]/u}else{this.pixelSizeX=this.pixelSize;const u=Math.round(g[1]/this.pixelSizeX);this.pixelSizeY=1*g[1]/u}const m=[],w=[g[0]/this.pixelSizeX,g[1]/this.pixelSizeY];for(let u=0;u<w[0];u+=1){const u=[];for(let g=0;g<w[1];g+=1)u.push([0,0,0,0,0]);m.push(u)}const b=this.ctx.getImageData(u[0],u[1],g[0],g[1]);for(let u=0;u<g[0];u+=1)for(let w=0;w<g[1];w+=1){const x=Math.floor(u/this.pixelSizeX),v=Math.floor(w/this.pixelSizeY),I=4*(w*g[0]+u);m[x][v][0]+=b.data[I],m[x][v][1]+=b.data[I+1],m[x][v][2]+=b.data[I+2],m[x][v][3]+=b.data[I+3],m[x][v][4]+=1}for(let g=0;g<w[0];g+=1)for(let b=0;b<w[1];b+=1){const w=m[g][b][4];this.ctx.fillStyle=`rgba(\n${Math.round(m[g][b][0]/w)}, \n${Math.round(m[g][b][1]/w)}, \n${Math.round(m[g][b][2]/w)}, \n${Math.round(m[g][b][3]/w)})`;const x=u[0]+g*this.pixelSizeX,v=u[1]+b*this.pixelSizeY;this.ctx.fillRect(x,v,this.pixelSizeX,this.pixelSizeY)}this.main.worklog.captureState()}doClearArea(){this.ctx.beginPath(),this.ctx.clearRect(this.area.topl[0],this.area.topl[1],this.area.bottoml[0]-this.area.topl[0],this.area.bottoml[1]-this.area.topl[1]),this.ctx.rect(this.area.topl[0],this.area.topl[1],this.area.bottoml[0]-this.area.topl[0],this.area.bottoml[1]-this.area.topl[1]),this.ctx.fillStyle=this.main.currentBackground,this.ctx.fill(),this.main.worklog.captureState()}selectAll(){this.setLeft(0),this.setRight(0),this.setBottom(0),this.setTop(0),this.show(),this.reCalcCropperCords(),this.area.activated&&this.areaionCallback(!this.imagePlaced&&this.area.rect.clientWidth>0&&this.area.rect.clientHeight>0)}getScale(){return this.canvas.clientWidth/this.canvas.getAttribute("width")}reCalcCropperCords(){const u=this.getScale();this.area.topl=[Math.round((this.rectLeft()-this.main.elLeft())/u),Math.round((this.rectTop()-this.main.elTop())/u)],this.area.bottoml=[Math.round(this.area.topl[0]+(this.area.rect.clientWidth+2)/u),Math.round(this.area.topl[1]+(this.area.rect.clientHeight+2)/u)]}adjustPosition(){if(!this.shown)return;const u=this.getScale();this.setLeft(this.area.topl[0]*u),this.setTop(this.area.topl[1]*u),this.setRight(0),this.setRight(this.canvas.clientWidth-this.area.bottoml[0]*u),this.setBottom(this.canvas.clientHeight-this.area.bottoml[1]*u)}placeAt(u,g,m,w,b){this.imagePlaced&&this.finishPlacing(),this.main.closeActiveTool(!0),this.main.setActiveTool(this.main.defaultTool);const x=this.getScale();this.setLeft(u*x),this.setTop(g*x),this.setRight(m*x),this.setBottom(w*x);const v=document.createElement("canvas");v.width=b.naturalWidth,v.height=b.naturalHeight;const I=v.getContext("2d");I.drawImage(b,0,0),this.placedData=v.toDataURL("image/png");const y=1e3/Math.max(b.naturalWidth,b.naturalHeight);y>=1?this.placedDataLow=this.placedData:(v.width=b.naturalWidth*y,v.height=b.naturalHeight*y,I.scale(y,y),I.drawImage(b,0,0),this.placedDataLow=v.toDataURL("image/png")),this.main.select.area.rect.style["background-image"]=`url(${this.placedData})`,this.show(),this.reCalcCropperCords(),this.imagePlaced=!0,this.main.select.activate(),this.placedRatio=b.naturalWidth/b.naturalHeight}finishPlacing(){this.imagePlaced=!1,this.main.select.area.rect.style["background-image"]="none",this.main.inserter.insert(this.area.topl[0],this.area.topl[1],this.area.bottoml[0]-this.area.topl[0],this.area.bottoml[1]-this.area.topl[1]),this.area.activated=!1}cancelPlacing(){this.imagePlaced=!1,this.main.select.area.rect.style["background-image"]="none",this.hide(),this.main.worklog.undoState()}handleKeyDown(u){if(this.main.inserter.handleKeyDown(u))return!0;if(this.shown&&this.imagePlaced){if(u.keyCode===st.enter)return this.finishPlacing(),!0;if(u.keyCode===st.esc)return this.cancelPlacing(),!0}else{if(this.shown&&u.keyCode===st.del)return this.doClearArea(),!0;if(u.keyCode===st.a&&u.ctrlKey)return this.selectAll(),event.preventDefault(),!0;if(u.keyCode===st.esc&&this.shown)return this.hide(),!0}return!1}handleMouseDown(u){const g=u.target.classList[0],m={"ptro-crp-el":()=>{if(this.area.activated){this.imagePlaced&&this.finishPlacing();const g=u.clientX-this.main.elLeft()+this.main.scroller.scrollLeft,m=u.clientY-this.main.elTop()+this.main.scroller.scrollTop;this.setLeft(g),this.setTop(m),this.setRight(this.area.el.clientWidth-g),this.setBottom(this.area.el.clientHeight-m),this.reCalcCropperCords(),this.area.resizingB=!0,this.area.resizingR=!0,this.hide()}},"ptro-crp-rect":()=>{this.area.moving=!0,this.area.xHandle=u.clientX-this.rectLeft()+this.main.scroller.scrollLeft,this.area.yHandle=u.clientY-this.rectTop()+this.main.scroller.scrollTop},"ptro-crp-tr":()=>{this.area.resizingT=!0,this.area.resizingR=!0},"ptro-crp-br":()=>{this.area.resizingB=!0,this.area.resizingR=!0},"ptro-crp-bl":()=>{this.area.resizingB=!0,this.area.resizingL=!0},"ptro-crp-tl":()=>{this.area.resizingT=!0,this.area.resizingL=!0},"ptro-crp-t":()=>{this.area.resizingT=!0},"ptro-crp-r":()=>{this.area.resizingR=!0},"ptro-crp-b":()=>{this.area.resizingB=!0},"ptro-crp-l":()=>{this.area.resizingL=!0}};g in m&&(m[g](),this.imagePlaced&&(this.main.select.area.rect.style["background-image"]=`url(${this.placedDataLow})`))}setLeft(u){this.left=u,this.area.rect.style.left=`${u}px`}setRight(u){this.right=u,this.area.rect.style.right=`${u}px`}setTop(u){this.top=u,this.area.rect.style.top=`${u}px`}setBottom(u){this.bottom=u,this.area.rect.style.bottom=`${u}px`}handleMouseMove(u){if(this.area.activated)if(this.area.moving){let g=u.clientX-this.main.elLeft()-this.area.xHandle+this.main.scroller.scrollLeft;g<0?g=0:g+this.area.rect.clientWidth>this.area.el.clientWidth-2&&(g=this.area.el.clientWidth-this.area.rect.clientWidth-2);const m=g-this.left;this.setLeft(g),this.setRight(this.right-m);let w=u.clientY-this.main.elTop()-this.area.yHandle+this.main.scroller.scrollTop;w<0?w=0:w+this.area.rect.clientHeight>this.area.el.clientHeight-2&&(w=this.area.el.clientHeight-this.area.rect.clientHeight-2);const b=w-this.top;this.setTop(w),this.setBottom(this.bottom-b),this.reCalcCropperCords()}else{let g=!1;if(this.area.resizingL){g=!0;const m=this.fixCropperLeft(u.clientX+this.main.scroller.scrollLeft);this.setLeft(m-this.main.elLeft()),this.reCalcCropperCords()}if(this.area.resizingR){g=!0;const m=this.fixCropperRight(u.clientX+this.main.scroller.scrollLeft);this.setRight(this.area.el.clientWidth+this.main.elLeft()-m),this.reCalcCropperCords()}if(this.area.resizingT){g=!0;const m=this.fixCropperTop(u.clientY+this.main.scroller.scrollTop);this.setTop(m-this.main.elTop()),this.reCalcCropperCords()}if(this.area.resizingB){g=!0;const m=this.fixCropperBottom(u.clientY+this.main.scroller.scrollTop);this.setBottom(this.area.el.clientHeight+this.main.elTop()-m),this.reCalcCropperCords()}!this.imagePlaced||u.ctrlKey||u.shiftKey||(this.area.resizingT&&(this.area.resizingL?this.leftKeepRatio():this.rightKeepRatio(),this.topKeepRatio(),this.reCalcCropperCords()),this.area.resizingB&&(this.area.resizingL?this.leftKeepRatio():this.rightKeepRatio(),this.bottomKeepRatio(),this.reCalcCropperCords()),this.area.resizingL&&(this.area.resizingT?this.topKeepRatio():this.bottomKeepRatio(),this.leftKeepRatio(),this.reCalcCropperCords()),this.area.resizingR&&(this.area.resizingT?this.topKeepRatio():this.bottomKeepRatio(),this.rightKeepRatio(),this.reCalcCropperCords())),g&&!this.shown&&this.show(),g&&function(){let u=null;window.getSelection?u=window.getSelection():document.selection&&(u=document.selection),u&&(u.empty&&u.empty(),u.removeAllRanges&&u.removeAllRanges())}()}}leftKeepRatio(){const u=this.area.rect.clientHeight*this.placedRatio,g=this.main.elLeft()+(this.area.el.clientWidth-this.right-u-2),m=this.fixCropperLeft(g);this.setLeft(m-this.main.elLeft())}topKeepRatio(){const u=this.area.rect.clientWidth/this.placedRatio,g=this.fixCropperTop(this.main.elTop()+(this.area.el.clientHeight-this.bottom-u-2));this.setTop(g-this.main.elTop())}bottomKeepRatio(){const u=this.area.rect.clientWidth/this.placedRatio,g=this.fixCropperBottom(this.main.elTop()+this.top+u+2);this.setBottom(this.area.el.clientHeight+this.main.elTop()-g)}rightKeepRatio(){const u=this.area.rect.clientHeight*this.placedRatio,g=this.fixCropperRight(this.main.elLeft()+this.left+u+2);this.setRight(this.area.el.clientWidth+this.main.elLeft()-g)}show(){this.shown=!0,this.area.rect.removeAttribute("hidden")}handleMouseUp(){this.area.activated&&this.areaionCallback(!this.imagePlaced&&this.area.rect.clientWidth>0&&this.area.rect.clientHeight>0),this.area.moving=!1,this.area.resizingT=!1,this.area.resizingR=!1,this.area.resizingB=!1,this.area.resizingL=!1,this.imagePlaced&&(this.main.select.area.rect.style["background-image"]=`url(${this.placedData})`)}close(){this.imagePlaced&&this.finishPlacing(),this.area.activated=!1,this.hide()}hide(){this.area.rect.setAttribute("hidden","true"),this.shown=!1,this.areaionCallback(!1)}draw(){if(this.area.topl){const u=this.canvas.clientWidth/this.canvas.getAttribute("width");this.setLeft(this.area.topl[0]*u),this.setTop(this.area.topl[1]*u),this.setRight(this.area.el.clientWidth-(this.area.bottoml[0]-this.area.topl[0])*u),this.setBottom(this.area.el.clientHeight-(this.area.bottoml[1]-this.area.topl[1])*u)}}rectLeft(){return this.area.rect.documentOffsetLeft+this.main.scroller.scrollLeft}rectTop(){return this.area.rect.documentOffsetTop+this.main.scroller.scrollTop}fixCropperLeft(u){let g=u;const m=this.rectLeft()+this.area.rect.clientWidth;return g<this.main.elLeft()?this.main.elLeft():(g>m&&(g=m,this.area.resizingL&&(this.area.resizingL=!1,this.area.resizingR=!0)),g)}fixCropperRight(u){let g=u;const m=this.main.elLeft()+this.area.el.clientWidth;return g>m?m:(g<this.rectLeft()&&(g=this.rectLeft()+this.area.rect.clientWidth,this.area.resizingR&&(this.area.resizingR=!1,this.area.resizingL=!0)),g)}fixCropperTop(u){let g=u;const m=this.rectTop()+this.area.rect.clientHeight;return g<this.main.elTop()?this.main.elTop():(g>m&&(g=m,this.area.resizingT&&(this.area.resizingT=!1,this.area.resizingB=!0)),g)}fixCropperBottom(u){let g=u;const m=this.main.elTop()+this.area.el.clientHeight;return g>m?m:(g<this.rectTop()&&(g=this.rectTop()+this.area.rect.clientHeight,this.area.resizingB&&(this.area.resizingB=!1,this.area.resizingT=!0)),g)}}class W{constructor(u,g){this.main=u,this.current=null,this.changedHandler=g,this.empty=!0,this.clean=!0,this.ctx=u.ctx}getWorklogAsString(u){const g=Object.assign({},this.current);let m=this.clearedCount;if(void 0!==u.limit){const w=u.limit;m=0;let b,x=g;for(b=0;b<w;b+=1)x.prevCount=w-b,b<w-1&&x.prev&&(x=x.prev);x.prev=null}return JSON.stringify({clearedCount:m,current:g})}loadWorklogFromString(u){const g=JSON.parse(u);return g&&(this.clearedCount=g.clearedCount,this.current=g.current,this.applyState(this.current)),this.main}changed(u){this.current.prevCount-this.clearedCount>this.main.params.worklogLimit&&(this.first=this.first.next,this.first.prev=null,this.clearedCount+=1),this.changedHandler({first:null===this.current.prev,last:null===this.current.next,initial:u}),this.empty=u,this.clean=!1}captureState(u){let g=this.main.activeTool?this.main.activeTool.name:null;this.main.params.NON_SELECTABLE_TOOLS.includes(g)&&(g=this.main.defaultTool.name);const m={sizew:this.main.size.w,sizeh:this.main.size.h,activeToolName:g,data:this.ctx.getImageData(0,0,this.main.size.w,this.main.size.h)};null===this.current?(m.prev=null,m.prevCount=0,this.first=m,this.clearedCount=0):(m.prev=this.current,m.prevCount=this.current.prevCount+1,this.current.next=m),m.next=null,this.current=m,this.changed(u)}reCaptureState(){null!==this.current.prev&&(this.current=this.current.prev),this.captureState()}applyState(u){this.main.resize(u.sizew,u.sizeh),this.main.ctx.putImageData(u.data,0,0),this.main.adjustSizeFull(),this.main.select.hide()}undoState(){if(null!==this.current.prev){let u=this.current.activeToolName;this.current=this.current.prev,this.applyState(this.current),this.changed(!1),u?(this.main.closeActiveTool(!0),this.main.setActiveTool(this.main.toolByName[u])):this.main.closeActiveTool(),this.main.params.onUndo&&this.main.params.onUndo(this.current)}}redoState(){if(null!==this.current.next){this.current=this.current.next,this.applyState(this.current),this.changed(!1);const u=this.current.activeToolName;u?(this.main.closeActiveTool(!0),this.main.setActiveTool(this.main.toolByName[u])):this.main.closeActiveTool(),this.main.params.onRedo&&this.main.params.onRedo(this.current)}}}class M{constructor(u){this.ctx=u.ctx,this.el=u.toolContainer,this.main=u,this.helperCanvas=document.createElement("canvas"),this.canvas=u.canvas}activate(u){this.type=u,this.state={},this.ctx.lineJoin="line"===u||"brush"===u||"eraser"===u||"arrow"===u?"round":"miter"}setLineWidth(u){if(!`${u}`.match(/^\d+$/))throw Error(`WARN: STR "${u}" is not an int`);this.lineWidth=+u}setShadowOn(u){this.shadowOn=u}setArrowLength(u){this.arrowLength=u}setEraserWidth(u){this.eraserWidth=u}handleMouseDown(u){this.activate(this.type);const g=u.target.classList[0];this.ctx.lineWidth=this.lineWidth,this.ctx.strokeStyle=this.main.colorWidgetState.line.alphaColor,this.ctx.fillStyle=this.main.colorWidgetState.fill.alphaColor;const m=this.main.getScale();if(this.ctx.lineCap="round","ptro-crp-el"===g||"ptro-zoomer"===g)if(this.tmpData=this.ctx.getImageData(0,0,this.main.size.w,this.main.size.h),"brush"===this.type||"eraser"===this.type){this.state.cornerMarked=!0;const g=[u.clientX-this.main.elLeft()+this.main.scroller.scrollLeft,u.clientY-this.main.elTop()+this.main.scroller.scrollTop],w={x:g[0]*m,y:g[1]*m};this.points=[w],this.drawBrushPath()}else this.state.cornerMarked=!0,this.centerCord=[u.clientX-this.main.elLeft()+this.main.scroller.scrollLeft,u.clientY-this.main.elTop()+this.main.scroller.scrollTop],this.centerCord=[this.centerCord[0]*m,this.centerCord[1]*m]}drawBrushPath(){const u=this.points;let g;const m=this.ctx.globalCompositeOperation,w="eraser"===this.type;g=this.main.colorWidgetState.line.alphaColor;const b=1!==this.main.currentBackgroundAlpha;for(let x=1;x<=(w&&b?2:1);x+=1)if(w&&(this.ctx.globalCompositeOperation=1===x&&b?"destination-out":m,g=1===x&&b?"rgba(0,0,0,1)":this.main.currentBackground),1===u.length)this.ctx.beginPath(),this.ctx.lineWidth=0,this.ctx.fillStyle=g,this.ctx.arc(this.points[0].x,this.points[0].y,this.lineWidth/2,this.lineWidth/2,0,2*Math.PI),this.ctx.fill(),this.ctx.closePath();else{let m;this.ctx.beginPath(),"eraser"===this.type?this.ctx.lineWidth=this.eraserWidth:this.ctx.lineWidth=this.lineWidth,this.ctx.strokeStyle=g,this.ctx.fillStyle=this.main.colorWidgetState.fill.alphaColor,this.ctx.moveTo(this.points[0].x,this.points[0].y),u.slice(1).forEach((u=>{this.ctx.lineTo(u.x,u.y),m=u})),m&&this.ctx.moveTo(m.x,m.y),this.ctx.stroke(),this.ctx.closePath()}this.ctx.globalCompositeOperation=m}handleMouseMove(u){const g=this.ctx;if(this.state.cornerMarked){this.ctx.putImageData(this.tmpData,0,0),this.curCord=[u.clientX-this.main.elLeft()+this.main.scroller.scrollLeft,u.clientY-this.main.elTop()+this.main.scroller.scrollTop];const m=this.main.getScale();if(this.curCord=[this.curCord[0]*m,this.curCord[1]*m],"brush"===this.type||"eraser"===this.type){const u={x:this.curCord[0],y:this.curCord[1]};this.points.push(u),this.drawBrushPath()}else if("line"===this.type){if(u.ctrlKey||u.shiftKey){const u=180*Math.atan(-(this.curCord[1]-this.centerCord[1])/(this.curCord[0]-this.centerCord[0]))/Math.PI;if(Math.abs(u)<22.5)this.curCord[1]=this.centerCord[1];else if(Math.abs(u)>67.5)this.curCord[0]=this.centerCord[0];else{const u=(Math.abs(this.curCord[0]-this.centerCord[0])-Math.abs(this.centerCord[1]-this.curCord[1]))/2;this.curCord[0]-=u*(this.centerCord[0]<this.curCord[0]?1:-1),this.curCord[1]-=u*(this.centerCord[1]>this.curCord[1]?1:-1)}}g.beginPath(),g.moveTo(this.centerCord[0],this.centerCord[1]),g.lineTo(this.curCord[0],this.curCord[1]),g.closePath();const m=g.shadowColor;this.shadowOn&&(g.shadowColor="rgba(0,0,0,0.7)",g.shadowBlur=this.lineWidth,g.shadowOffsetX=this.lineWidth/2,g.shadowOffsetY=this.lineWidth/2),g.stroke(),g.shadowColor=m}else if("arrow"===this.type){let m=180*Math.atan(-(this.curCord[1]-this.centerCord[1])/(this.curCord[0]-this.centerCord[0]))/Math.PI;if(u.ctrlKey||u.shiftKey)if(Math.abs(m)<22.5)this.curCord[1]=this.centerCord[1];else if(Math.abs(m)>67.5)this.curCord[0]=this.centerCord[0];else{const u=(Math.abs(this.curCord[0]-this.centerCord[0])-Math.abs(this.centerCord[1]-this.curCord[1]))/2;this.curCord[0]-=u*(this.centerCord[0]<this.curCord[0]?1:-1),this.curCord[1]-=u*(this.centerCord[1]>this.curCord[1]?1:-1)}this.curCord[0]<this.centerCord[0]&&(m=180+m),this.ctx.beginPath();const w=this.ctx.lineCap,b=this.ctx.fillStyle;this.ctx.fillStyle=this.main.colorWidgetState.line.alphaColor,this.ctx.lineCap="square";const x=Math.min(this.arrowLength,.9*Math.sqrt((this.centerCord[0]-this.curCord[0])**2+(this.centerCord[1]-this.curCord[1])**2)),v=this.centerCord[0],I=this.centerCord[1],y=this.curCord[0],k=this.curCord[1],S=this.curCord[0],T=this.curCord[1];let L,Y,D;L=Math.atan2(k-I,y-v),Y=x*Math.cos(L)+S,D=x*Math.sin(L)+T,this.ctx.moveTo(Y,D),L+=1/3*(2*Math.PI),Y=x*Math.cos(L)+S,D=x*Math.sin(L)+T,this.ctx.lineTo(Y,D);const R=S+(Y-S)/3,N=T+(D-T)/3;g.lineTo(R,N),g.lineTo(this.centerCord[0],this.centerCord[1]),L+=1/3*(2*Math.PI),Y=x*Math.cos(L)+S,D=x*Math.sin(L)+T;const j=S+(Y-S)/3,H=T+(D-T)/3;g.lineTo(j,H),g.lineTo(Y,D),g.closePath();const O=g.shadowColor;this.shadowOn&&(g.shadowColor="rgba(0,0,0,0.7)",g.shadowBlur=Math.log(x)*this.main.params.shadowScale,g.shadowOffsetX=Math.log10(x),g.shadowOffsetY=Math.log10(x)),g.fill(),g.lineCap=w,g.fillStyle=b,g.shadowColor=O}else if("rect"===this.type){g.beginPath();const m=[this.centerCord[0],this.centerCord[1]];let w=this.curCord[0]-this.centerCord[0],b=this.curCord[1]-this.centerCord[1];if(u.ctrlKey||u.shiftKey){const u=Math.min(Math.abs(w),Math.abs(b));w=u*Math.sign(w),b=u*Math.sign(b)}const x=this.lineWidth/2;w<0&&(m[0]+=w,w=-w),b<0&&(m[1]+=b,b=-b),this.ctx.rect(m[0]+x,m[1]+x,w-this.lineWidth,b-this.lineWidth),this.ctx.fill();const v=g.shadowColor;this.shadowOn&&(g.shadowColor="rgba(0,0,0,0.7)",g.shadowBlur=this.lineWidth,g.shadowOffsetX=this.lineWidth/2,g.shadowOffsetY=this.lineWidth/2),this.lineWidth&&this.ctx.strokeRect(m[0],m[1],w,b),g.shadowColor=v,this.ctx.closePath()}else if("ellipse"===this.type){this.ctx.beginPath();const m=this.centerCord[0],w=this.centerCord[1];let b=this.curCord[0]-m,x=this.curCord[1]-w;if(u.ctrlKey||u.shiftKey){const u=Math.min(Math.abs(b),Math.abs(x));b=u*Math.sign(b),x=u*Math.sign(x)}const v=Math.abs(b),I=Math.abs(x),y=Math.min(m,m+b),k=Math.min(w,w+x);this.ctx.save();let S,T=1,L=1;const Y=v/2,D=I/2;v>I?(L=v/I,S=Y):(T=I/v,S=D),this.ctx.scale(1/T,1/L),this.ctx.arc((y+Y)*T,(k+D)*L,S,0,2*Math.PI),this.ctx.restore(),this.ctx.fill();const R=g.shadowColor;this.shadowOn&&(g.shadowColor="rgba(0,0,0,0.7)",g.shadowBlur=this.lineWidth,g.shadowOffsetX=this.lineWidth/2,g.shadowOffsetY=this.lineWidth/2),g.stroke(),g.shadowColor=R,this.ctx.beginPath()}}}handleMouseUp(){this.state.cornerMarked&&(this.state.cornerMarked=!1,this.main.worklog.captureState())}setPixelSize(u){this.pixelSize=u}}const lt={lineColor:"L",lineColorFull:"Linienfarbe",fillColor:"F",fillColorFull:"Füllfarbe",alpha:"A",alphaFull:"Alpha",lineWidth:"B",lineWidthFull:"Linienbreite",arrowLength:"L",arrowLengthFull:"Pfeillänge",eraserWidth:"E",eraserWidthFull:"Radiergummibreite",textColor:"C",textColorFull:"Textfarbe",fontSize:"S",fontSizeFull:"Schriftgröße",fontStrokeSize:"St",fontStrokeSizeFull:"Strichbreite",fontStyle:"FS",fontStyleFull:"Schriftstil",fontName:"F",fontNameFull:"Schriftartenname",textStrokeColor:"SC",textStrokeColorFull:"Strichfarbe",apply:"Anwenden",cancel:"Abbrechen",close:"Schließen",clear:"Zurücksetzen",width:"Breite",height:"Höhe",keepRatio:"Breiten- / Höhenverhältnis beibehalten",fillPageWith:"Füllen Sie die Seite mit der aktuellen Hintergrundfarbe",pixelSize:"P",pixelSizeFull:"Pixel Größe",resizeScale:"Maßstab",resizeResize:"Größe ändern",backgroundColor:"Hintergrundfarbe der Seite",pixelizePixelSize:"Pixelate Pixelgröße",language:"Sprache",wrongPixelSizeValue:"Falsche Pixelgröße. Sie können zum Beispiel '20%' eingeben. Welche mittlere Pixelgröße wird 1/5 von die ausgewählte Bereichsseite, oder '4' bedeutet 4 px",tools:{crop:"Bild auf ausgewählten Bereich zuschneiden",pixelize:"Pixelisierung des ausgewählten Bereiches",rect:"Rechteck zeichnen",ellipse:"Ellipse zeichnen",line:"Linie zeichnen",arrow:"Pfeil zeichnen",rotate:"Bild umdrehen",save:"Bild speichern",load:"Bild hochladen",text:"Text hinzufügen",brush:"Pinsel",resize:"Größe ändern oder skalieren",open:"Bild öffnen",select:"Bereich auswählen",close:" Painterro schließen",eraser:"Radierer",settings:"Einstellungen",undo:"Rückgängig machen",redo:"Wiederholen"},pasteOptions:{fit:"Alle Austauschen ",extend_down:"Nach unten strecken",extend_right:"Nach rechts strecken",extend:"Strecken",over:"Überkleben",how_to_paste:"Wie füge ich hinzu?"}},mt={lineColor:"L",lineColorFull:"Line color",fillColor:"F",fillColorFull:"Fill color",alpha:"A",alphaFull:"Alpha",lineWidth:"W",lineWidthFull:"Line width",arrowLength:"L",arrowLengthFull:"Arrow length",eraserWidth:"E",eraserWidthFull:"Eraser width",textColor:"C",textColorFull:"Text color",fontSize:"S",fontSizeFull:"Font size",fontStrokeSize:"St",fontStrokeSizeFull:"Stroke width",fontIsBold:"<b>B</b>",fontIsBoldFull:"Bold",fontIsItalic:"<i>I</i>",fontIsItalicFull:"Italic",shadowOn:"SH",shadowOnFull:"Shadow",fontStrokeAndShadow:"S&S",fontStrokeAndShadowFull:"Stroke & Shadow",fontName:"F",fontNameFull:"Font name",textStrokeColor:"SC",textStrokeColorFull:"Stroke color",apply:"Apply",cancel:"Cancel",close:"Close",clear:"Clear",width:"Width",height:"Height",keepRatio:"Keep width/height ratio",fillPageWith:"Fill page with current background color",pixelSize:"P",pixelSizeFull:"Pixel size",resizeScale:"Scale",resizeResize:"Resize",backgroundColor:"Page background color",pixelizePixelSize:"Pixelize pixel size",language:"Language",wrongPixelSizeValue:"Wrong pixel size. You can enter e.g. '20%' which mean pixel size will be 1/5 of the selected area side, or '4' means 4 px",tools:{crop:"Crop image to selected area",pixelize:"Pixelize selected area",rect:"Draw rectangle",ellipse:"Draw ellipse",line:"Draw line",arrow:"Draw arrow",rotate:"Rotate image",save:"Save image",load:"Load image",text:"Put text",brush:"Brush",resize:"Resize or scale",open:"Open image",select:"Select area",close:"Close Painterro",eraser:"Eraser",settings:"Settings",zoomin:"Zoom In",zoomout:"Zoom Out",undo:"Undo",redo:"Redo",clear:"Clear",bucket:"Fill"},pasteOptions:{fit:"Replace all",extend_down:"Extend down",extend_right:"Extend right",extend_left:"Extend left",extend_top:"Extend top",extend:"Add",over:"Paste over",how_to_paste:"How to paste?"}},ft={lineColor:"L",lineColorFull:"Color de linea",fillColor:"O",fillColorFull:"Color de relleno",alpha:"T",alphaFull:"Transparencia",lineWidth:"A",lineWidthFull:"Ancho de linea",eraserWidth:"B",eraserWidthFull:"Ancho de borrador",textColor:"C",textColorFull:"Color de texto",fontSize:"L",fontSizeFull:"Tamaño de letra",fontStrokeSize:"TLl",fontStrokeSizeFull:"Tamaño de linea de letra",fontStyle:"EL",fontStyleFull:"Estilo de letra",fontName:"NL",fontNameFull:"Nombre del tipo de letra",textStrokeColor:"CL",textStrokeColorFull:"Color de letra",apply:"Aplicar",cancel:"Cancelar",close:"Cerrar",clear:"Limpiar",width:"Ancho",height:"Alto",keepRatio:"Mantener ratio Ancho/Alto",fillPageWith:"Rellenar la página con el color de fondo actual",pixelSize:"P",pixelSizeFull:"Tamaño de pixel",resizeScale:"Escala",resizeResize:"Redimensionar",backgroundColor:"Color de fondo de la página",pixelizePixelSize:"Tamaño de pixel al pixelar",wrongPixelSizeValue:"Tamaño de pixel incorrecto. Puedes entrar por ejemplo '20%' que significa que el tamaño de pixel es 1/5 del area seleccionada, o '4' significa 4 px",tools:{crop:"Recortar imagen a la area seleccionada",pixelize:"Pixelar la area seleccionada",rect:"Dibujar rectángulo",ellipse:"Dibujar eclipse",line:"Dibujar linea",rotate:"Rotar imagen",save:"Guardar imagen",load:"Cargar imagen",text:"Escribir texto",brush:"Pincel",resize:"Cambiar tamaño o escalar",open:"Abrir imagen",select:"Selección de area",close:"Cerrar editor",eraser:"Borrador",settings:"Parámetros"},pasteOptions:{fit:"Reemplazar todo",extend_down:"Extender hacia abajo",extend_right:"Extender a la derecha",extend:"Extender",over:"Pegar encima",how_to_paste:"Cómo se ha de pegar?"}},Bt={lineColor:"L",lineColorFull:"Color de línia",fillColor:"O",fillColorFull:"Color per omplir",alpha:"T",alphaFull:"Transparència",lineWidth:"A",lineWidthFull:"Ample de línia",arrowLength:"L",arrowLengthFull:"Longitud de la fletxa",eraserWidth:"B",eraserWidthFull:"Ample de borrador",textColor:"C",textColorFull:"Color de texte",fontSize:"L",fontSizeFull:"Tamany de la lletra",fontStrokeSize:"TLl",fontStrokeSizeFull:"Tamany linea de la lletra",fontStyle:"EL",fontStyleFull:"Estil de lletra",fontName:"NL",fontNameFull:"Nom del tipus de lletra",textStrokeColor:"CL",textStrokeColorFull:"Color de lletra",apply:"Aplicar",cancel:"Cancel·lar",close:"Tancar",clear:"Netejar",width:"Ample",height:"Alt",keepRatio:"Mantenir ratio Ample/Alt",fillPageWith:"Omplir la pàgina amb el color de fons actual",pixelSize:"P",pixelSizeFull:"Tamany de pixel",resizeScale:"Escala",resizeResize:"Redimensionar",backgroundColor:"Color de fons de la pàgina",pixelizePixelSize:"Tamany de píxel al pixelar",wrongPixelSizeValue:"Tamany de píxel incorrecte. Pots entrar per exemple '20%' que significa que el tamany de píxel és 1/5 de l'àrea seleccionada, o '4' significa 4 px",tools:{crop:"Retallar imatge a l'àrea seleccionada",pixelize:"Pixelar l'àrea seleccionada",rect:"Dibuixar rectangle",ellipse:"Dibuixar eclipse",line:"Dibuixar línia",arrow:"Dibuixa la fletxa",rotate:"Rotar imatge",save:"Guardar image",load:"Carregar image",text:"Escriure texte",brush:"Pinzell",resize:"Cambiar tamany o escalar",open:"Obrir imatge",select:"Seleció d'àrea",close:"Tancar editor",eraser:"Borrador",settings:"Paràmetres"},pasteOptions:{fit:"Reemplaçar tot",extend_down:"Extendre cap avall",extend_right:"Extendre a la dreta",extend:"Extendre",over:"Empegar al damunt",how_to_paste:"Com s'ha d'empegar?"}},wt={lineColor:"CL",lineColorFull:"Couleur de la ligne",fillColor:"CR",fillColorFull:"Couleur de Remplissage",alpha:"T",alphaFull:"Transparence",lineWidth:"L",lineWidthFull:"Largeur de ligne",arrowLength:"F",arrowLengthFull:"Longeur de la flèche",eraserWidth:"LG",eraserWidthFull:"Largeur de la gomme",textColor:"CT",textColorFull:"Couleur du texte",fontSize:"TP",fontSizeFull:"Taille de Police",fontStrokeSize:"LT",fontStrokeSizeFull:"Largeur du trait",fontStyle:"SP",fontStyleFull:"Style de police",fontName:"NP",fontNameFull:"Nom de la police",textStrokeColor:"CT",textStrokeColorFull:"Couleur du trait",apply:"Appliquer",cancel:"Annuler",close:"Fermer",clear:"Effacer",width:"Largeur",height:"Hauteur",keepRatio:"Conserver le rapport largeur/hauteur",fillPageWith:"Remplir avec la couleur d'arrière-plan courante",pixelSize:"P",pixelSizeFull:"Taille de Pixel",resizeScale:"Échelle",resizeResize:"Redimensionner",backgroundColor:"Couleur de fond de la page",pixelizePixelSize:"Pixéliser la taille de pixel",language:"Langue",wrongPixelSizeValue:"Mauvaise taille de pixel. Vous pouvez ajouter par exemple e.g. '20%' ce qui signifie que la taille moyenne des pixels sera 1/5 de la surface sélectionnée, ou '4' signifie 4 px",tools:{crop:"Recadrer l'image dans la zone sélectionnée",pixelize:"Pixéliser la zone sélectionnée",rect:"Dessiner un rectangle",ellipse:"Dessiner une ellipse",line:"Dessiner une ligne",arrow:"Dessiner une flèche",rotate:"Pivoter l'image",save:"Enregistrer l'image",load:"Charger l'image",text:"Mettre du texte",brush:"Brosse",resize:"Redimensionner ou échelle",open:"Ouvrir l'image",select:"Sélectionnez une région",close:"Fermer Painterro",eraser:"Gomme",settings:"Réglages",undo:"Annuler",redo:"Refaire"},pasteOptions:{fit:"Tout Remplacer",extend_down:"Étendre vers le bas",extend_right:"Étendre à droite",extend:"Étendre",over:"Coller sur",how_to_paste:"Comment coller?"}},bt={lineColor:"K",lineColorFull:"Kolor linii",fillColor:"W",fillColorFull:"Kolor wypełnienia",alpha:"A",alphaFull:"Alpha",lineWidth:"L",lineWidthFull:"Szerokość linii",arrowLength:"S",arrowLengthFull:"Rozmiar strzałki",eraserWidth:"G",eraserWidthFull:"Wielkość gumki",textColor:"K",textColorFull:"Kolor tekstu",fontSize:"R",fontSizeFull:"Rozmiar czcionki",fontStrokeSize:"Sk",fontStrokeSizeFull:"Szerokość kreski",fontStyle:"Sc",fontStyleFull:"Styl czcionki",fontName:"C",fontNameFull:"Czcionka",textStrokeColor:"Kk",textStrokeColorFull:"Kolor kreski",apply:"Zastosuj",cancel:"Anuluj",close:"Zamknij",clear:"Wyczyść",width:"Szerokość",height:"Wysokość",keepRatio:"Zachowaj współczynnik proporcji",fillPageWith:"Wypełnij stronę obecnym kolorem tła",pixelSize:"P",pixelSizeFull:"Rozmiar pixela",resizeScale:"Skala",resizeResize:"Zmień rozmiar",backgroundColor:"Kolor tła strony",pixelizePixelSize:"Rozmiar pixela Pixelizera",language:"Język",wrongPixelSizeValue:"Zły rozmiar pixela. Poprawne wartości to np. '20%', co oznacza przyjęcie rozmiaru pixela jako 20% pola wybranego obszaru, lub '4' jako 4 px",tools:{crop:"Przytnij obraz do wybranego obszaru",pixelize:"Pixelizuj wybrany obszar",rect:"Rysuj prostokąt",ellipse:"Rysuj elipse",line:"Rysuj linię",arrow:"Rysuj strzałkę",rotate:"Obróć obraz",save:"Zapisz obraz",load:"Wczytaj obraz",text:"Dodaj tekst",brush:"Pędzel",resize:"Zmień rozmiar lub skalę",open:"Otwórz obraz",select:"Wybierz obszar",close:"Zamknij Painterro",eraser:"Gumka",settings:"Ustawienia",undo:"Cofnij",redo:"Przywróć"},pasteOptions:{fit:"Zastąp",extend_down:"Dodaj poniżej",extend_right:"Dodaj po prawej",extend:"Dodaj",over:"Dodaj ponad",how_to_paste:"Jak wkleić?"}},xt={lineColor:"L",lineColorFull:"Cor da linha",fillColor:"O",fillColorFull:"Cor do preenchimento",alpha:"T",alphaFull:"Transparência",lineWidth:"A",lineWidthFull:"Largura de linha",eraserWidth:"B",eraserWidthFull:"Largura do apagador",textColor:"C",textColorFull:"Cor do texto",fontSize:"L",fontSizeFull:"Tamanho da letra",fontStrokeSize:"TLl",fontStrokeSizeFull:"Tamanho da linha da letra",fontStyle:"EL",fontStyleFull:"Tipo de letra",fontName:"NL",fontNameFull:"Nome do tipo de letra",textStrokeColor:"CL",textStrokeColorFull:"Cor da letra",apply:"Aplicar",cancel:"Cancelar",close:"Fechar",clear:"Limpar",width:"Largura",height:"Altura",keepRatio:"Manter rácio Largura/Altura",fillPageWith:"Preencher a página com a cor de fundo actual",pixelSize:"P",pixelSizeFull:"Tamanho de píxel",resizeScale:"Escala",resizeResize:"Redimensionar",backgroundColor:"Cor de fundo da página",pixelizePixelSize:"Tamanho de píxel ao Pixelizar",wrongPixelSizeValue:"Tamanho de píxel incorrecto. Podes colocar por exemplo '20%' que significa que o tamanho de píxel é 1/5 da área seleccionada, o '4' significa 4 px",tools:{crop:"Recortar imagem pela área seleccionada",pixelize:"Pixelizar a área seleccionada",rect:"Desenhar rectângulo",ellipse:"Desenhar elipse",line:"Desenhar linha",rotate:"Rodar imagem",save:"Guardar imagem",load:"Carregar imagem",text:"Escrever texto",brush:"Pincel",resize:"Alterar tamanho ao redimensionar",open:"Abrir imagem",select:"Selecção da área",close:"Fechar editor",eraser:"Apagador",settings:"Definições"},pasteOptions:{fit:"Substituir tudo",extend_down:"Acrescentar por baixo",extend_right:"Acrescentar pela direita",extend:"Acrescentar",over:"Por cima",how_to_paste:"Como colar?"}},vt={lineColor:"L",lineColorFull:"Cor da linha",fillColor:"O",fillColorFull:"Cor do preenchimento",alpha:"T",alphaFull:"Transparência",lineWidth:"A",lineWidthFull:"Largura de linha",eraserWidth:"B",eraserWidthFull:"Largura do apagador",textColor:"C",textColorFull:"Cor do texto",fontSize:"L",fontSizeFull:"Tamanho da letra",fontStrokeSize:"TLl",fontStrokeSizeFull:"Tamanho da linha da letra",fontStyle:"EL",fontStyleFull:"Estilo de letra",fontName:"NL",fontNameFull:"Nome do tipo de letra",textStrokeColor:"CL",textStrokeColorFull:"Cor da letra",apply:"Aplicar",cancel:"Cancelar",close:"Fechar",clear:"Limpar",width:"Largura",height:"Altura",keepRatio:"Manter rácio Largura/Altura",fillPageWith:"Preencher a página com a cor de fundo atual",pixelSize:"P",pixelSizeFull:"Tamanho de píxel",resizeScale:"Escala",resizeResize:"Redimensionar",backgroundColor:"Cor de fundo da página",pixelizePixelSize:"Tamanho de píxel ao Pixelizar",wrongPixelSizeValue:"Tamanho de píxel incorreto. Pode colocar por exemplo '20%' que significa que o tamanho de píxel é 1/5 da área selecionada, o '4' significa 4 px",tools:{crop:"Recortar imagem pela área selecionada",pixelize:"Pixelizar a área selecionada",rect:"Desenhar retângulo",ellipse:"Desenhar elipse",line:"Desenhar linha",rotate:"Girar imagem",save:"Salvar imagem",load:"Carregar imagem",text:"Escrever texto",brush:"Pincel",resize:"Alterar tamanho ao redimensionar",open:"Abrir imagem",select:"Seleção da área",close:"Fechar editor",eraser:"Apagador",settings:"Configurações"},pasteOptions:{fit:"Substituir tudo",extend_down:"Acrescentar por baixo",extend_right:"Acrescentar pela direita",extend:"Acrescentar",over:"Por cima",how_to_paste:"Como colar?"}},It={lineColor:"Л",lineColorFull:"Цвет линии",fillColor:"З",fillColorFull:"Цвет заливки",alpha:"П",alphaFull:"Прозрачность",lineWidth:"Ш",lineWidthFull:"Ширина линии",arrowLength:"Ш",arrowLengthFull:"Ширина стрелки",eraserWidth:"Ш",eraserWidthFull:"Ширина ластика",textColor:"Ц",textColorFull:"Цвет текста",fontSize:"Р",fontSizeFull:"Размер шрифта",fontStrokeSize:"Ш",fontStrokeSizeFull:"Ширина штриха",fontIsBold:"<b>Ж</b>",fontIsBoldFull:"Жирный",fontIsItalic:"<i>К</i>",fontIsItalicFull:"Курсив",shadowOn:"Т",shadowOnFull:"Тень",fontStrokeAndShadow:"О&Т",fontStrokeAndShadowFull:"Обводка и Тень",fontName:"Ш",fontNameFull:"Название шрифта",textStrokeColor:"ЦО",textStrokeColorFull:"Цвет обводки",apply:"Применить",cancel:"Отмена",close:"Закрыть",clear:"Очистить",width:"Ширина",height:"Высота",keepRatio:"Сохранить соотношение ширины/высоты",fillPageWith:"Заполнить страницу текущим цветом фона",pixelSize:"П",pixelSizeFull:"Размер пикселя",resizeScale:"Масштаб",resizeResize:"Изменить размер",backgroundColor:"Цвет фона страницы",pixelizePixelSize:"Пикселизация размера пикселя",language:"Язык",wrongPixelSizeValue:"Неправильный размер пикселя. Вы можете ввести, например '20%', что означает, что средний размер пикселя будет 1/5 отстороны выбранной области или '4', что означает 4 пикселя",tools:{crop:"Обрезать изображение до выделенной области",pixelize:"Сделать пикселизацию выделенной области",rect:"Рисовать прямоугольник",ellipse:"Рисовать эллипс",line:"Рисовать линию",arrow:"Рисовать Стрелку",rotate:"Повернуть лист",save:"Сохрнить изображение",load:"Загрузть изображение",text:"Вставить текст",brush:"Кисть",resize:"Изменить размер или масштаб",open:"Открыть изображение",select:"Выбрать область",close:"Закрыть редактор",eraser:"Ластик",settings:"Настройки",undo:"Отменить",redo:"Повторить"},pasteOptions:{fit:"Заменить всё",extend_down:"Добавить вниз",extend_right:"Добавить вправо",extend_left:"Добавить влево",extend_top:"Добавить вверх",extend:"Добавить",over:"Вставить",how_to_paste:"Как вставить?"}},yt={lineColor:"線",lineColorFull:"線の色",fillColor:"塗",fillColorFull:"塗りつぶしの色",alpha:"A",alphaFull:"アルファ",lineWidth:"幅",lineWidthFull:"線の幅",arrowLength:"矢",arrowLengthFull:"矢印の長さ",eraserWidth:"幅",eraserWidthFull:"消しゴムの幅",textColor:"色",textColorFull:"テキストの色",fontSize:"級",fontSizeFull:"フォントサイズ",fontStrokeSize:"幅",fontStrokeSizeFull:"ストロークの幅",fontStyle:"書式",fontStyleFull:"フォントスタイル",fontName:"書体",fontNameFull:"フォント",textStrokeColor:"SC",textStrokeColorFull:"ストロークの色",apply:"適用",cancel:"キャンセル",close:"閉じる",clear:"クリア",width:"幅",height:"高さ",keepRatio:"幅／高さのアスペクト比を保つ",fillPageWith:"背景色でページを塗りつぶす",pixelSize:"モザ",pixelSizeFull:"モザイクサイズ",resizeScale:"スケール",resizeResize:"リサイズ",backgroundColor:"ページの背景色",pixelizePixelSize:"モザイクのサイズ",language:"言語",wrongPixelSizeValue:'モザイクのサイズが正しくありません。次のように指定していください：\n "20%"（モザイクサイズは選択範囲の1/5になります）\n "4"（4pxを意味します）\n',tools:{crop:"切り抜き",pixelize:"モザイク",rect:"四角形を描く",ellipse:"円を描く",line:"線を描く",arrow:"矢印を描く",rotate:"画像を回転",save:"画像を保存",load:"画像を読み込み",text:"テキストを配置",brush:"ブラシ",resize:"リサイズまたはスケール",open:"画像を開く",select:"範囲選択",close:"Painterroを閉じる",eraser:"消しゴム",settings:"設定",undo:"元に戻す",redo:"やり直す"},pasteOptions:{fit:"すべてを置き換え",extend_down:"下に拡張",extend_right:"右に拡張",extend:"拡張",over:"重ねて貼り付け",how_to_paste:"どう貼り付ける？"}},kt={lineColor:"L",lineColorFull:"Lijnkleur",fillColor:"V",fillColorFull:"Vulkleur",alpha:"A",alphaFull:"Alpha",lineWidth:"D",lineWidthFull:"Lijndikte",arrowLength:"L",arrowLengthFull:"Pijllengte",eraserWidth:"G",eraserWidthFull:"Gumdikte",textColor:"K",textColorFull:"Tekstkleur",fontSize:"G",fontSizeFull:"Tekstgrootte",fontStrokeSize:"St",fontStrokeSizeFull:"Streepdikte",fontIsBold:"<b>V</b>",fontIsBoldFull:"Vetgedrukt",fontIsItalic:"<i>C</i>",fontIsItalicFull:"Cursief",shadowOn:"S",shadowOnFull:"Schaduw",fontStrokeAndShadow:"D&S",fontStrokeAndShadowFull:"Streep & Schaduw",fontName:"F",fontNameFull:"Naam lettertype",textStrokeColor:"SK",textStrokeColorFull:"Streepkleur",apply:"Toepassen",cancel:"Annuleren",close:"Sluiten",clear:"Opnieuw",width:"Breedte",height:"Hoogte",keepRatio:"Behoud breedte-/hoogteverhouding",fillPageWith:"Vul pagina met de huidige achtergrondkleur",pixelSize:"P",pixelSizeFull:"Pixelgrootte",resizeScale:"Schalen",resizeResize:"Grootte aanpassen",backgroundColor:"Achtergrondkleur pagina",pixelizePixelSize:"Pixelgrootte pixel",language:"Taal",wrongPixelSizeValue:"Foute pixelgrootte. Je kunt b.v. '20%' invullen, wat een pixelgrootte van 1/5 van de geselecteerde gebiedszijde betekent, of '4' voor een pixelgrootte van 4 px",tools:{crop:"Afbeelding bijsnijden naar geselecteerde gebied",pixelize:"Geselecteerde gebied pixelen",rect:"Teken rechthoek",ellipse:"Teken ovaal",line:"Teken lijn",arrow:"Teken pijl",rotate:"Afbeelding draaien",save:"Afbeelding opslaan",load:"Afbeelding laden",text:"Text schrijven",brush:"Penseel",resize:"Grootte aanpassen",open:"Afbeelding openen",select:"Gebied selecteren",close:"Painterro sluiten",eraser:"Gum",settings:"Instellingen",zoomin:"Inzoomen",zoomout:"Uitzoomen",undo:"Ongedaan maken",redo:"Opnieuw doen"},pasteOptions:{fit:"Vervang alles",extend_down:"Onder uitbreiden",extend_right:"Rechts uitbreiden",extend_left:"Links uitbreiden",extend_top:"Boven uitbreiden",extend:"Uitbreiden",over:"Overheen plakken",how_to_paste:"Hoe te plakken?"}};let St=null;class K{constructor(){this.translations={de:lt,en:mt,es:ft,ca:Bt,fr:wt,pl:bt,"pt-PT":xt,"pt-BR":vt,ru:It,ja:yt,nl:kt},this.defaultTranslator=this.translations.en}static get(){return St||(St=new K,St)}addTranslation(u,g){this.translations[u]=g}activate(u){void 0!==this.translations[u]?(this.trans=u,this.translator=this.translations[this.trans]):this.translator=this.defaultTranslator}tr(u){const g=u.split(".");let m=this.translator,w=this.defaultTranslator;return g.forEach((u=>{w=w[u],void 0!==m&&(m=m[u])})),m||w}}function X(u){return K.get().tr(u)}function V(u){let g=/^#?([a-fA-F\d]{2})([a-fA-F\d]{2})([a-fA-F\d]{2})$/i.exec(u);return g?{r:parseInt(g[1],16),g:parseInt(g[2],16),b:parseInt(g[3],16)}:(g=/^#?([a-fA-F\d])([a-fA-F\d])([a-fA-F\d])$/i.exec(u),g?{r:parseInt(g[1].repeat(2),16),g:parseInt(g[2].repeat(2),16),b:parseInt(g[3].repeat(2),16)}:void 0)}function q(u,g){const m=V(u);return`rgba(${m.r},${m.g},${m.b},${g})`}function $(u){const g=u.toString(16);return 1===g.length&&`0${g}`||g}function _(u,g,m){return`#${$(u)}${$(g)}${$(m)}`}class tt{constructor(u,g){this.callback=g,this.main=u,this.w=180,this.h=150;const m=this.w,w=this.h;this.lightPosition=this.w-1,this.wrapper=u.wrapper.querySelector(".ptro-color-widget-wrapper"),this.input=u.wrapper.querySelector(".ptro-color-widget-wrapper .ptro-color"),this.pipetteButton=u.wrapper.querySelector(".ptro-color-widget-wrapper button.ptro-pipette"),this.closeButton=u.wrapper.querySelector(".ptro-color-widget-wrapper button.ptro-close-color-picker"),this.canvas=u.wrapper.querySelector(".ptro-color-widget-wrapper canvas"),this.ctx=this.canvas.getContext("2d"),this.canvasLight=u.wrapper.querySelector(".ptro-color-widget-wrapper .ptro-canvas-light"),this.colorRegulator=u.wrapper.querySelector(".ptro-color-widget-wrapper .ptro-color-light-regulator"),this.canvasAlpha=u.wrapper.querySelector(".ptro-color-widget-wrapper .ptro-canvas-alpha"),this.alphaRegulator=u.wrapper.querySelector(".ptro-color-widget-wrapper .ptro-color-alpha-regulator"),this.ctxLight=this.canvasLight.getContext("2d"),this.ctxAlpha=this.canvasAlpha.getContext("2d"),this.canvas.setAttribute("width",`${m}`),this.canvas.setAttribute("height",`${w}`),this.canvasLight.setAttribute("width",`${m}`),this.canvasLight.setAttribute("height","20"),this.canvasAlpha.setAttribute("width",`${m}`),this.canvasAlpha.setAttribute("height","20");const b=this.ctx.createLinearGradient(0,0,m,0);b.addColorStop(1/15,"#ff0000"),b.addColorStop(4/15,"#ffff00"),b.addColorStop(5/15,"#00ff00"),b.addColorStop(.6,"#00ffff"),b.addColorStop(.8,"#0000ff"),b.addColorStop(14/15,"#ff00ff"),this.ctx.fillStyle=b,this.ctx.fillRect(0,0,m,w);const x=this.ctx.createLinearGradient(0,0,0,w);x.addColorStop(0,"rgba(0, 0, 0, 0)"),x.addColorStop(.99,"rgba(0, 0, 0, 1)"),x.addColorStop(1,"rgba(0, 0, 0, 1)"),this.ctx.fillStyle=x,this.ctx.fillRect(0,0,m,w),this.closeButton.onclick=()=>{this.close()},this.pipetteButton.onclick=()=>{this.wrapper.setAttribute("hidden","true"),this.opened=!1,this.choosing=!0},this.input.onkeyup=()=>{this.setActiveColor(this.input.value,!0)}}open(u,g){this.target=u.target,this.palleteColor=u.palleteColor,this.alpha=u.alpha,this.lightPosition=this.lightPosition||this.w-1,this.drawLighter(),this.colorRegulator.style.left=`${this.lightPosition}px`,this.alphaRegulator.style.left=`${Math.round(this.alpha*this.w)}px`,this.regetColor(),this.wrapper.removeAttribute("hidden"),this.opened=!0,this.addCallback=g}close(){this.wrapper.setAttribute("hidden","true"),this.opened=!1}getPaletteColorAtPoint(u){let g=u.clientX-this.canvas.documentOffsetLeft,m=u.clientY-this.canvas.documentOffsetTop;g=g<1?1:g,m=m<1?1:m,g=g>this.w&&this.w-1||g,m=m>this.h&&this.h-1||m;const w=this.ctx.getImageData(g,m,1,1).data;this.palleteColor=_(w[0],w[1],w[2]),this.drawLighter(),this.regetColor()}regetColor(){const u=this.ctxLight.getImageData(this.lightPosition,5,1,1).data;this.setActiveColor(_(u[0],u[1],u[2])),this.drawAlpher()}regetAlpha(){const u=this.ctxAlpha.getImageData(this.alphaPosition,5,1,1).data;this.alpha=u[3]/255,this.setActiveColor(this.color,!0)}getColorLightAtClick(u){let g=u.clientX-this.canvasLight.documentOffsetLeft;g=g<1?1:g,g=g>this.w-1&&this.w-1||g,this.lightPosition=g,this.colorRegulator.style.left=`${g}px`,this.regetColor()}getAlphaAtClick(u){let g=u.clientX-this.canvasAlpha.documentOffsetLeft;g=g<1?1:g,g=g>this.w-1&&this.w-1||g,this.alphaPosition=g,this.alphaRegulator.style.left=`${g}px`,this.regetAlpha()}handleKeyDown(u){return!(!this.opened||u.keyCode!==st.enter)||!(!this.opened||u.keyCode!==st.esc)&&(this.close(),!0)}handleMouseDown(u){return this.choosing&&2!==u.button?(this.choosingActive=!0,this.handleMouseMove(u),!0):(this.choosing=!1,u.target===this.canvas&&(this.selecting=!0,this.getPaletteColorAtPoint(u)),u.target!==this.canvasLight&&u.target!==this.colorRegulator||(this.lightSelecting=!0,this.getColorLightAtClick(u)),u.target!==this.canvasAlpha&&u.target!==this.alphaRegulator||(this.alphaSelecting=!0,this.getAlphaAtClick(u)),!1)}handleMouseMove(u){if(this.opened)this.selecting&&this.getPaletteColorAtPoint(u),this.lightSelecting&&this.getColorLightAtClick(u),this.alphaSelecting&&this.getAlphaAtClick(u);else if(this.choosingActive){const g=this.main.getScale();let m=(u.clientX-this.main.elLeft()+this.main.scroller.scrollLeft)*g;m=m<1?1:m,m=m>this.main.size.w-1&&this.main.size.w-1||m;let w=(u.clientY-this.main.elTop()+this.main.scroller.scrollTop)*g;w=w<1?1:w,w=w>this.main.size.h-1&&this.main.size.h-1||w;const b=this.main.ctx.getImageData(m,w,1,1).data,x=_(b[0],b[1],b[2]);this.callback({alphaColor:q(x,1),lightPosition:this.w-1,alpha:1,palleteColor:x,target:this.target}),void 0!==this.addCallback&&this.addCallback({alphaColor:q(x,1),lightPosition:this.w-1,alpha:1,palleteColor:x,target:this.target})}}handleMouseUp(){this.selecting=!1,this.lightSelecting=!1,this.choosing=!1,this.choosingActive=!1,this.alphaSelecting=!1,this.main.zoomHelper.hideZoomHelper()}setActiveColor(u,g){try{this.input.style.color=function(u){const g=V(u);return(299*g.r+587*g.g+114*g.b)/1e3>=128?"black":"white"}(u)}catch(u){return}this.input.style["background-color"]=u,void 0===g&&(this.input.value=u),this.color=u,this.alphaColor=q(u,this.alpha),void 0!==this.callback&&this.opened&&this.callback({alphaColor:this.alphaColor,lightPosition:this.lightPosition,alpha:this.alpha,palleteColor:this.color,target:this.target}),void 0!==this.addCallback&&this.opened&&this.addCallback({alphaColor:this.alphaColor,lightPosition:this.lightPosition,alpha:this.alpha,palleteColor:this.color,target:this.target})}static html(){return`<div class="ptro-color-widget-wrapper ptro-common-widget-wrapper ptro-v-middle" hidden><div class="ptro-pallet ptro-color-main ptro-v-middle-in"><canvas></canvas><canvas class="ptro-canvas-light"></canvas><span class="ptro-color-light-regulator ptro-bordered-control"></span><canvas class="ptro-canvas-alpha"></canvas><span class="alpha-checkers"></span><span class="ptro-color-alpha-regulator ptro-bordered-control"></span><div class="ptro-colors"></div><div class="ptro-color-edit"><button type="button" class="ptro-icon-btn ptro-pipette ptro-color-control" style="float: left; margin-right: 5px"><i class="ptro-icon ptro-icon-pipette"></i></button><input class="ptro-input ptro-color" type="text" size="7"/><button type="button" class="ptro-named-btn ptro-close-color-picker ptro-color-control" >${X("close")}</button></div></div></div>`}drawLighter(){const u=this.ctxLight.createLinearGradient(0,0,this.w,0);u.addColorStop(0,"#ffffff"),u.addColorStop(.05,"#ffffff"),u.addColorStop(.95,this.palleteColor),u.addColorStop(1,this.palleteColor),this.ctxLight.fillStyle=u,this.ctxLight.fillRect(0,0,this.w,15)}drawAlpher(){this.ctxAlpha.clearRect(0,0,this.w,15);const u=this.ctxAlpha.createLinearGradient(0,0,this.w,0);u.addColorStop(0,"rgba(255,255,255,0)"),u.addColorStop(.05,"rgba(255,255,255,0)"),u.addColorStop(.95,this.color),u.addColorStop(1,this.color),this.ctxAlpha.fillStyle=u,this.ctxAlpha.fillRect(0,0,this.w,15)}}const zt="painterro-data";let Et={};function rt(u,g){Et[u]=g;try{localStorage.setItem(zt,JSON.stringify(Et))}catch(u){console.warn(`Unable save to localstorage: ${u}`)}}function nt(...u){for(let g=0;g<u.length;g+=1)if(void 0!==u[g])return u[g]}function ot(u,g){!function(){try{Et=JSON.parse(localStorage.getItem(zt))}catch(u){console.warn(`Unable get from localStorage: ${u}`)}Et||(Et={})}();const m=u||{};var w;if(m.language&&(w=m.language,K.get().activate(w)),m.NON_SELECTABLE_TOOLS=["pixelize","crop","rotate"],m.activeColor=Et.activeColor||m.activeColor||"#ff0000",m.activeColorAlpha=nt(Et.activeColorAlpha,m.activeColorAlpha,1),m.activeAlphaColor=q(m.activeColor,m.activeColorAlpha),m.activeFillColor=Et.activeFillColor||m.activeFillColor||"#000000",m.activeFillColorAlpha=nt(Et.activeFillColorAlpha,m.activeFillColorAlpha,0),m.activeFillAlphaColor=q(m.activeFillColor,m.activeFillColorAlpha),m.replace_all_on_empty_background=m.initText=m.initText||null,m.initTextColor=m.initTextColor||"#808080",m.initTextStyle=m.initTextStyle||"26px 'Open Sans', sans-serif",m.defaultLineWidth=Et.defaultLineWidth||m.defaultLineWidth||5,m.defaultPrimitiveShadowOn=nt(Et.defaultPrimitiveShadowOn,m.defaultPrimitiveShadowOn,!0),m.defaultArrowLength=Et.defaultArrowLength||m.defaultArrowLength||32,m.defaultEraserWidth=nt(Et.defaultEraserWidth,m.defaultEraserWidth,5),m.defaultFontSize=nt(Et.defaultFontSize,m.defaultFontSize,24),m.defaultFontBold=nt(Et.defaultFontBold,m.defaultFontBold,!1),m.defaultFontItalic=nt(Et.defaultFontItalic,m.defaultFontItalic,!1),m.replaceAllOnEmptyBackground=nt(m.replaceAllOnEmptyBackground,!0),m.backgroundFillColor=Et.backgroundFillColor||m.backgroundFillColor||"#ffffff",m.backgroundFillColorAlpha=m.backplateImgUrl?0:nt(Et.backgroundFillColorAlpha,m.backgroundFillColorAlpha,1),m.backgroundFillAlphaColor=q(m.backgroundFillColor,m.backgroundFillColorAlpha),m.textStrokeColor=Et.textStrokeColor||m.textStrokeColor||"#ffffff",m.textStrokeColorAlpha=nt(Et.textStrokeColorAlpha,m.textStrokeColorAlpha,1),m.textStrokeAlphaColor=q(m.textStrokeColor,m.textStrokeColorAlpha),m.shadowScale=nt(m.shadowScale,1),m.defaultTextStrokeAndShadow=nt(Et.defaultTextStrokeAndShadow,m.defaultTextStrokeAndShadow,!0),m.worklogLimit=nt(m.worklogLimit,100),m.hiddenTools=m.hiddenTools||["redo","zoomin","zoomout"],m.hiddenTools.forEach((u=>{g.includes(u)||F(`Hidden tool with name ${u}`)})),m.defaultTool?m.hiddenTools.includes(m.defaultTool)&&(F(`Can't hide default tool '${m.defaultTool}', please change default tool to another to hide it`),m.hiddenTools.splice(defaultInHiddenIndex,1)):m.defaultTool=g.filter((u=>!m.hiddenTools.includes(u)&&!m.NON_SELECTABLE_TOOLS.includes(u)))[0],m.pixelizePixelSize=Et.pixelizePixelSize||m.pixelizePixelSize||"20%",m.colorScheme=m.colorScheme||{},m.colorScheme.main=m.colorScheme.main||"#fff",m.colorScheme.control=m.colorScheme.control||"#fff",m.colorScheme.controlShadow=m.colorScheme.controlShadow||"0px 0px 3px 1px #bbb",m.colorScheme.controlContent=m.colorScheme.controlContent||"#000000",m.colorScheme.hoverControl=m.colorScheme.hoverControl||m.colorScheme.control,m.colorScheme.hoverControlContent=m.colorScheme.hoverControlContent||"#1a3d67",m.colorScheme.toolControlNameColor=m.colorScheme.toolControlNameColor||"rgba(0,0,0,0.07)",m.colorScheme.activeControl=m.colorScheme.activeControl||"#7485B1",m.colorScheme.activeControlContent=m.colorScheme.activeControlContent||m.colorScheme.main,m.colorScheme.inputBorderColor=m.colorScheme.inputBorderColor||m.colorScheme.main,m.colorScheme.inputBackground=m.colorScheme.inputBackground||"#ffffff",m.colorScheme.inputShadow=m.colorScheme.inputShadow||"inset 0 0 4px 1px #ccc",m.colorScheme.inputText=m.colorScheme.inputText||m.colorScheme.activeControl,m.colorScheme.backgroundColor=m.colorScheme.backgroundColor||"#999999",m.colorScheme.dragOverBarColor=m.colorScheme.dragOverBarColor||"#899dff",m.defaultSize=m.defaultSize||"fill",m.defaultPixelSize=m.defaultPixelSize||4,m.extraFonts=m.extraFonts||[],m.toolbarHeightPx=m.toolbarHeightPx||40,m.buttonSizePx=m.buttonSizePx||32,m.bucketSensivity=m.bucketSensivity||100,"object"!=typeof m.defaultSize)if("fill"===m.defaultSize)m.defaultSize={width:"fill",height:"fill"};else{const u=m.defaultSize.split("x");m.defaultSize={width:Q(u[0]),height:Q(u[1])}}if(m.toolbarPosition=m.toolbarPosition||"bottom",m.fixMobilePageReloader=void 0===m.fixMobilePageReloader||m.fixMobilePageReloader,m.translation){const u=m.translation.name;K.get().addTranslation(u,m.translation.strings),K.get().activate(u)}return m.styles=`.ptro-color-main{\n      background-color:${m.colorScheme.main};\n      color:${m.colorScheme.controlContent};\n    }\n    .ptro-color-control{\n      box-shadow:${m.colorScheme.controlShadow};\n      background-color:${m.colorScheme.control};\n      color:${m.colorScheme.controlContent}}\n    .ptro-tool-ctl-name{\n      background-color:${m.colorScheme.toolControlNameColor};\n    }\n    button.ptro-color-control:hover:not(.ptro-color-active-control):not([disabled]){\n        background-color: ${m.colorScheme.hoverControl};\n        color:${m.colorScheme.hoverControlContent}}    \n    .ptro-bordered-control{border-color: ${m.colorScheme.activeControl}}\n    input.ptro-input,.ptro-check,input.ptro-input:focus,select.ptro-input,select.ptro-input:focus {\n      border: 1px solid ${m.colorScheme.inputBorderColor};\n      background-color: ${m.colorScheme.inputBackground};\n      color: ${m.colorScheme.inputText};\n      box-shadow:${m.colorScheme.inputShadow};\n    }\n    .ptro-bar-dragover{background-color:${m.colorScheme.dragOverBarColor}}\n    .ptro-color,.ptro-bordered-btn{\n      border: 1px solid ${m.colorScheme.inputBorderColor};\n    }\n    .ptro-color-control:active:enabled {\n        background-color: ${m.colorScheme.activeControl};\n        color: ${m.colorScheme.activeControlContent}}\n    .ptro-color-active-control{\n        background-color: ${m.colorScheme.activeControl};\n        color:${m.colorScheme.activeControlContent}}\n    .ptro-wrapper{\n      background-color:${m.colorScheme.backgroundColor};\n      bottom:${"top"===m.toolbarPosition?"0":m.toolbarHeightPx}px;\n      top:${"top"===m.toolbarPosition?m.toolbarHeightPx:"0"}px;\n    }\n    .ptro-icon-btn {\n      height: ${m.buttonSizePx}px;\n      width: ${m.buttonSizePx}px;\n      margin: 0 0 0 ${(m.toolbarHeightPx-m.buttonSizePx)/2}px;\n    }\n    .ptro-bar-right {\n      margin-right: ${(m.toolbarHeightPx-m.buttonSizePx)/2}px;\n    }\n    .ptro-bar {\n      height: ${m.toolbarHeightPx}px;\n      ${"top"===m.toolbarPosition?"top":"bottom"}: 0;\n    }`,m}class at{constructor(u){this.main=u,this.zomer=u.wrapper.querySelector(".ptro-zoomer"),this.zomerCtx=this.zomer.getContext("2d"),this.canvas=this.main.canvas,this.ctx=this.main.ctx,this.wrapper=this.main.wrapper,this.gridColor=this.zomerCtx.createImageData(1,1),this.gridColor.data[0]=255,this.gridColor.data[1]=255,this.gridColor.data[2]=255,this.gridColor.data[3]=255,this.gridColorRed=this.zomerCtx.createImageData(1,1),this.gridColorRed.data[0]=255,this.gridColorRed.data[1]=0,this.gridColorRed.data[2]=0,this.gridColorRed.data[3]=255,this.captW=7,this.middle=Math.ceil(this.captW/2)-1,this.periodW=8,this.fullW=this.captW*this.periodW,this.halfFullW=this.fullW/2,this.zomer.setAttribute("width",this.fullW),this.zomer.setAttribute("height",this.fullW),this.cursor=this.wrapper.style.cursor}handleMouseMove(u){if(this.main.colorPicker.choosing&&!u.altKey){this.shown||(this.shown=!0,this.zomer.style.display="block",this.cursor=this.wrapper.style.cursor,this.wrapper.style.cursor="none");const g=this.main.getScale(),m=[u.clientX-this.main.elLeft()+this.main.scroller.scrollLeft,u.clientY-this.main.elTop()+this.main.scroller.scrollTop];let w=m[0]*g;w=w<1?1:w,w=w>this.main.size.w-1?this.main.size.w-1:w;let b=m[1]*g;b=b<1?1:b,b=b>this.main.size.h-1?this.main.size.h-1:b;const x=this.captW,v=this.periodW;for(let u=0;u<x;u+=1)for(let g=0;g<x;g+=1){const m=this.ctx.getImageData(w+u-this.middle,b+g-this.middle,1,1);for(let w=0;w<v;w+=1)for(let b=0;b<v;b+=1)w===v-1||b===v-1?u===this.middle&&g===this.middle||u===this.middle&&g===this.middle-1&&b===v-1||u===this.middle-1&&g===this.middle&&w===v-1?this.zomerCtx.putImageData(this.gridColorRed,u*v+w,g*v+b):this.zomerCtx.putImageData(this.gridColor,u*v+w,g*v+b):this.zomerCtx.putImageData(m,u*v+w,g*v+b)}this.zomer.style.left=u.clientX-this.wrapper.documentOffsetLeft-this.halfFullW+"px",this.zomer.style.top=u.clientY-this.wrapper.documentOffsetTop-this.halfFullW+"px"}else this.shown&&this.hideZoomHelper()}hideZoomHelper(){this.zomer.style.display="none",this.wrapper.style.cursor=this.cursor,this.shown=!1}static html(){return'<canvas class="ptro-zoomer" width="" height="0"></canvas>'}}var Qt=m(306),Tt=m.n(Qt);class At{constructor(u){this.ctx=u.ctx,this.el=u.toolContainer,this.main=u,this.wrapper=u.wrapper,this.input=this.el.querySelector(".ptro-text-tool-input"),this.inputWrapper=this.el.querySelector(".ptro-text-tool-input-wrapper"),this.inputWrapper.style.display="none",this.isBold=u.params.defaultFontBold,this.isItalic=u.params.defaultFontItalic,this.strokeOn=u.params.defaultTextStrokeAndShadow,this.strokeColor=u.params.textStrokeAlphaColor,this.setFontSize(u.params.defaultFontSize),this.setFont(this.getFonts()[0].value),this.setFontIsBold(this.isBold),this.setFontIsItalic(this.isItalic),this.el.querySelector(".ptro-text-tool-apply").onclick=()=>{this.apply()},this.el.querySelector(".ptro-text-tool-cancel").onclick=()=>{this.close()}}getFont(){return this.font}getFonts(){const u=["Arial, Helvetica, sans-serif",'"Arial Black", Gadget, sans-serif','"Comic Sans MS", cursive, sans-serif',"Impact, Charcoal, sans-serif",'"Lucida Sans Unicode", "Lucida Grande", sans-serif',"Tahoma, Geneva, sans-serif",'"Trebuchet MS", Helvetica, sans-serif',"Verdana, Geneva, sans-serif",'"Courier New", Courier, monospace','"Lucida Console", Monaco, monospace',...this.main.params.extraFonts],g=[];return u.forEach((u=>{const m=u.split(",")[0].replace(/"/g,"");g.push({value:u,name:m,extraStyle:`font-family:${u}`,title:m})})),g}setFont(u){this.font=u,this.input.style["font-family"]=u,this.active&&this.input.focus(),this.active&&this.reLimit()}setStrokeOn(u){this.strokeOn=u,this.setStrokeParams()}setFontIsBold(u){this.isBold=u,this.input.style["font-weight"]=u?"bold":"normal",this.active&&(this.input.focus(),this.reLimit()),this.setStrokeParams()}setFontIsItalic(u){this.isItalic=u,this.input.style["font-style"]=u?"italic":"normal",this.active&&(this.input.focus(),this.reLimit())}setFontSize(u){this.fontSize=u,this.input.style["font-size"]=`${u}px`,this.setStrokeParams(),this.active&&this.reLimit()}setStrokeParams(){if(this.strokeOn){const u=1;this.input.style["text-shadow"]=`\n      -${u}px -${u}px 1px ${this.strokeColor},${u}px -${u}px 1px ${this.strokeColor},\n      -${u}px  ${u}px 1px ${this.strokeColor},${u}px  ${u}px 1px ${this.strokeColor},\n      ${u}px ${u}px ${Math.log(this.fontSize)*this.main.params.shadowScale}px black`}else this.input.style["text-shadow"]="none"}setFontColor(u){this.color=u,this.input.style.color=u,this.input.style["outline-color"]=u}inputLeft(){return this.input.documentOffsetLeft+this.main.scroller.scrollLeft}inputTop(){return this.input.documentOffsetTop+this.main.scroller.scrollTop}reLimit(){this.inputWrapper.style.right="auto",this.inputLeft()+this.input.clientWidth>this.main.elLeft()+this.el.clientWidth?this.inputWrapper.style.right="0":this.inputWrapper.style.right="auto",this.inputWrapper.style.bottom="auto",this.inputTop()+this.input.clientHeight>this.main.elTop()+this.el.clientHeight?this.inputWrapper.style.bottom="0":this.inputWrapper.style.bottom="auto"}handleMouseDown(u){if("ptro-crp-el"===u.target.classList[0]){this.active||(this.input.innerHTML="<br>",this.pendingClear=!0),this.active=!0,this.crd=[u.clientX-this.main.elLeft()+this.main.scroller.scrollLeft,u.clientY-this.main.elTop()+this.main.scroller.scrollTop];const g=this.main.getScale();this.scaledCord=[this.crd[0]*g,this.crd[1]*g],this.inputWrapper.style.left=`${this.crd[0]}px`,this.inputWrapper.style.top=`${this.crd[1]}px`,this.inputWrapper.style.display="inline",this.input.focus(),this.reLimit(),this.input.onkeydown=u=>{u.ctrlKey&&u.keyCode===st.enter&&(this.apply(),u.preventDefault()),u.keyCode===st.esc&&(this.close(),this.main.closeActiveTool(),u.preventDefault()),this.reLimit(),this.pendingClear&&(this.input.innerText=this.input.innerText.slice(1),this.pendingClear=!1),u.stopPropagation()},this.main.isMobile||u.preventDefault()}}apply(){const u=this.input.style.border,g=this.input.style.outline,m=this.main.getScale();this.input.style.border="none";const w={style:{"transform-origin":"top left",transform:`scale(${m})`},width:this.input.clientWidth*(m<1?1/m:m),height:this.input.clientHeight*(m<1?1/m:m)};Tt().toPng(this.input,w).then((m=>{const w=new Image;w.src=m,w.onload=()=>{this.ctx.drawImage(w,this.scaledCord[0],this.scaledCord[1]),this.input.style.border=u,this.input.style.outline=g,this.close(),this.main.worklog.captureState(),this.main.closeActiveTool()}})).catch((function(u){console.error("oops, something went wrong!",u)}))}close(){this.active=!1,this.inputWrapper.style.display="none"}static code(){return`<span class="ptro-text-tool-input-wrapper"><div contenteditable="true" class="ptro-text-tool-input"></div><span class="ptro-text-tool-buttons"><button type="button" class="ptro-text-tool-apply ptro-icon-btn ptro-color-control" title="${X("apply")}" \n                   style="margin: 2px"><i class="ptro-icon ptro-icon-apply"></i></button><button type="button" class="ptro-text-tool-cancel ptro-icon-btn ptro-color-control" title="${X("cancel")}"\n                   style="margin: 2px"><i class="ptro-icon ptro-icon-close"></i></button></span></span>`}}class ht{constructor(u){this.main=u,this.wrapper=u.wrapper.querySelector(".ptro-resize-widget-wrapper"),this.inputW=u.wrapper.querySelector(".ptro-resize-widget-wrapper .ptro-resize-width-input"),this.inputH=u.wrapper.querySelector(".ptro-resize-widget-wrapper .ptro-resize-heigth-input"),this.inputWLimit=1e4,this.inputHLimit=13e3,this.linkButton=u.wrapper.querySelector(".ptro-resize-widget-wrapper button.ptro-link"),this.linkButtonIcon=u.wrapper.querySelector(".ptro-resize-widget-wrapper button.ptro-link i"),this.closeButton=u.wrapper.querySelector(".ptro-resize-widget-wrapper button.ptro-close"),this.scaleButton=u.wrapper.querySelector(".ptro-resize-widget-wrapper button.ptro-scale"),this.resizeButton=u.wrapper.querySelector(".ptro-resize-widget-wrapper button.ptro-resize"),this.linked=!0,this.closeButton.onclick=()=>{this.startClose()},this.scaleButton.onclick=()=>{if(!ht.validationZeroValue(this.newH,this.newW))return;const u=this.main.size.w,g=this.main.size.h,m=this.main.canvas.toDataURL();this.main.resize(this.newW,this.newH),this.main.ctx.save(),this.main.ctx.scale(this.newW/u,this.newH/g);const w=new Image;w.onload=()=>{this.main.ctx.drawImage(w,0,0),this.main.adjustSizeFull(),this.main.ctx.restore(),this.main.worklog.captureState(),this.startClose()},w.src=m},this.resizeButton.onclick=()=>{if(!ht.validationZeroValue(this.newH,this.newW))return;const u=this.main.canvas.toDataURL();this.main.resize(this.newW,this.newH),this.main.clearBackground();const g=new Image;g.onload=()=>{this.main.ctx.drawImage(g,0,0),this.main.adjustSizeFull(),this.main.worklog.captureState(),this.startClose()},g.src=u},this.linkButton.onclick=()=>{this.linked=!this.linked,this.linked?this.linkButtonIcon.className="ptro-icon ptro-icon-linked":this.linkButtonIcon.className="ptro-icon ptro-icon-unlinked"},this.inputW.oninput=()=>{const u=Number(this.inputW.value);if(this.validationWidth(u),this.linked){const u=this.main.size.ratio;this.newH=Math.round(this.newW/u),this.validationHeight(this.newH),this.inputH.value=this.newH}},this.inputH.oninput=()=>{const u=Number(this.inputH.value);if(this.validationHeight(u),this.linked){const u=this.main.size.ratio;this.newW=Math.round(this.newH*u),this.validationWidth(this.newW),this.inputW.value=+this.newW}}}validationWidthValue(u){return u<=this.inputWLimit}validationHeightValue(u){return u<=this.inputHLimit}static validationEmptyValue(u){return""!==u||"0"!==u}static validationZeroValue(...u){let g=!0;return u.forEach((u=>{g=!(0===u)&&g})),g}validationHeight(u){if(!this.validationHeightValue(u))return this.inputH.value=this.inputHLimit,void(this.newH=this.inputHLimit);this.newH=u,ht.validationEmptyValue(u)?this.newH=u:(this.inputH.value=0,this.newH=0)}validationWidth(u){if(!this.validationWidthValue(u))return this.inputW.value=this.inputWLimit,void(this.newW=this.inputWLimit);this.newW=u,ht.validationEmptyValue(u)?this.newW=u:(this.inputW.value="0",this.newW=0)}open(){this.wrapper.removeAttribute("hidden"),this.opened=!0,this.newW=this.main.size.w,this.newH=this.main.size.h,this.inputW.value=+this.newW,this.inputH.value=+this.newH}close(){this.wrapper.setAttribute("hidden","true"),this.opened=!1}startClose(){this.main.closeActiveTool()}handleKeyDown(u){return u.keyCode===st.enter||u.keyCode===st.esc&&(this.startClose(),!0)}static html(){return`<div class="ptro-resize-widget-wrapper ptro-common-widget-wrapper ptro-v-middle" hidden><div class="ptro-resize-widget ptro-color-main ptro-v-middle-in"><div style="display: inline-block"><table><tr><td class="ptro-label ptro-resize-table-left">${X("width")}</td><td><input class="ptro-input ptro-resize-width-input" type="number" min="0" max="3000" step="1"/></td></tr><tr><td class="ptro-label ptro-resize-table-left">${X("height")}</td><td><input class="ptro-input ptro-resize-heigth-input" type="number" min="0" max="3000" step="1"/></td></tr></table></div><div class="ptro-resize-link-wrapper"><button type="button" class="ptro-icon-btn ptro-link ptro-color-control" title="${X("keepRatio")}"><i class="ptro-icon ptro-icon-linked" style="font-size: 18px;"></i></button></div><div></div><div style="margin-top: 40px;"><button type="button" class="ptro-named-btn ptro-resize ptro-color-control">${X("resizeResize")}</button><button type="button" class="ptro-named-btn ptro-scale ptro-color-control">${X("resizeScale")}</button><button type="button" class="ptro-named-btn ptro-close ptro-color-control">${X("cancel")}</button></div></div></div>`}}class ct{constructor(u){this.main=u;const g={extend_top:{internalName:"extend_top",handle:u=>{this.tmpImg=u;const g=this.main.size.h,m=this.main.size.w,w=g+u.naturalHeight,b=Math.max(m,u.naturalWidth),x=this.ctx.getImageData(0,0,this.main.size.w,this.main.size.h);if(this.main.resize(b,w),this.main.clearBackground(),this.ctx.putImageData(x,0,u.naturalHeight),this.main.adjustSizeFull(),u.naturalWidth<m){const w=Math.round((m-u.naturalWidth)/2);this.main.select.placeAt(w,0,w,g,u)}else this.main.select.placeAt(0,0,0,g,u);this.worklog.captureState()}},extend_left:{internalName:"extend_left",handle:u=>{this.tmpImg=u;const g=this.main.size.h,m=this.main.size.w,w=m+u.naturalWidth,b=Math.max(g,u.naturalHeight),x=this.ctx.getImageData(0,0,this.main.size.w,this.main.size.h);if(this.main.resize(w,b),this.main.clearBackground(),this.ctx.putImageData(x,u.naturalWidth,0),this.main.adjustSizeFull(),u.naturalHeight<g){const w=Math.round((g-u.naturalHeight)/2);this.main.select.placeAt(0,w,m,w,u)}else this.main.select.placeAt(0,0,m,0,u);this.worklog.captureState()}},extend_right:{internalName:"extend_right",handle:u=>{this.tmpImg=u;const g=this.main.size.h,m=this.main.size.w,w=m+u.naturalWidth,b=Math.max(g,u.naturalHeight),x=this.ctx.getImageData(0,0,this.main.size.w,this.main.size.h);if(this.main.resize(w,b),this.main.clearBackground(),this.ctx.putImageData(x,0,0),this.main.adjustSizeFull(),u.naturalHeight<g){const w=Math.round((g-u.naturalHeight)/2);this.main.select.placeAt(m,w,0,w,u)}else this.main.select.placeAt(m,0,0,0,u);this.worklog.captureState()}},extend_down:{internalName:"extend_down",handle:u=>{this.tmpImg=u;const g=this.main.size.h,m=this.main.size.w,w=g+u.naturalHeight,b=Math.max(m,u.naturalWidth),x=this.ctx.getImageData(0,0,this.main.size.w,this.main.size.h);if(this.main.resize(b,w),this.main.clearBackground(),this.ctx.putImageData(x,0,0),this.main.adjustSizeFull(),u.naturalWidth<m){const w=Math.round((m-u.naturalWidth)/2);this.main.select.placeAt(w,g,w,0,u)}else this.main.select.placeAt(0,g,0,0,u);this.worklog.captureState()}}},m={replace_all:{internalName:"fit",handle:w=>{this.main.params.backplateImgUrl&&(this.main.params.backplateImgUrl=void 0,this.main.tabelCell.style.background="",this.main.canvas.style.backgroundColor=`${this.main.params.backgroundFillColor}ff`,this.pasteOptions=Object.assign({},m,g),this.activeOption=this.pasteOptions,this.main.wrapper.querySelector(".ptro-paster-select-wrapper").remove(),this.main.wrapper.insertAdjacentHTML("beforeend",this.html()),this.init(u)),this.main.fitImage(w,this.mimetype)}},paste_over:{internalName:"over",handle:u=>{this.tmpImg=u;const g=this.main.size.h,m=this.main.size.w;if(u.naturalHeight<=g&&u.naturalWidth<=m)this.main.select.placeAt(0,0,m-u.naturalWidth,g-u.naturalHeight,u);else if(u.naturalWidth/u.naturalHeight>m/g){const w=m*(u.naturalHeight/u.naturalWidth);this.main.select.placeAt(0,0,0,g-w,u)}else{const w=g*(u.naturalWidth/u.naturalHeight);this.main.select.placeAt(0,0,m-w,0,u)}this.worklog.captureState()}}};if(this.main.params.backplateImgUrl)return this.pasteOptions=Object.assign({},m),void(this.activeOption=this.pasteOptions);this.pasteOptions=Object.assign({},m,g),this.activeOption=this.pasteOptions}init(u){this.CLIP_DATA_MARKER="painterro-image-data",this.ctx=u.ctx,this.main=u,this.worklog=u.worklog,this.selector=u.wrapper.querySelector(".ptro-paster-select-wrapper"),this.cancelChoosing(),this.img=null,this.mimetype=null,this.getAvailableOptions().forEach((u=>{const g=this.pasteOptions[u];this.main.getElemByIdSafe(g.id).onclick=()=>{this.loading?this.doLater=g.handle:g.handle(this.img),this.cancelChoosing()}})),this.loading=!1,this.doLater=null}insert(u,g,m,w){this.main.ctx.drawImage(this.tmpImg,u,g,m,w),this.main.worklog.reCaptureState()}cancelChoosing(){this.selector.setAttribute("hidden",""),this.waitChoice=!1}loaded(u,g){this.img=u,this.mimetype=g,this.loading=!1,this.doLater&&(this.doLater(u),this.doLater=null)}getAvailableOptions(){return this.main.params.how_to_paste_actions?Object.keys(this.activeOption).filter((u=>this.main.params.how_to_paste_actions.includes(u))):Object.keys(this.activeOption)}handleOpen(u,g){this.startLoading();const i=u=>{const m=new Image,w=this.main.worklog.clean&&this.main.params.replaceAllOnEmptyBackground;if(m.onload=()=>{w?this.main.fitImage(m,g):this.loaded(m,g),this.finishLoading()},m.onerror=()=>{"function"==typeof this.main.params.onImageFailedOpen&&this.main.params.onImageFailedOpen()},m.src=u,!w){const u=this.getAvailableOptions();1!==u.length?(this.selector.removeAttribute("hidden"),this.waitChoice=!0):this.doLater=this.activeOption[u[0]].handle}};0!==u.indexOf("data")?function(u,g,m){const w=new XMLHttpRequest;w.onload=()=>{const u=new FileReader;u.onloadend=()=>{g(u.result)},u.readAsDataURL(w.response)},w.onerror=()=>{"function"==typeof m&&m()},w.open("GET",u),w.responseType="blob",w.send()}(u,(u=>{i(u)}),(()=>{"function"==typeof this.main.params.onImageFailedOpen&&this.main.params.onImageFailedOpen()})):i(u)}handleKeyDown(u){return this.waitChoice&&u.keyCode===st.esc?(this.cancelChoosing(),!0):!(!this.waitChoice||event.keyCode!==st.enter)}startLoading(){if(this.loading=!0,this.main.toolByName.open.buttonId){const u=this.main.getElemByIdSafe(this.main.toolByName.open.buttonId);u&&u.setAttribute("disabled","true");const g=this.main.doc.querySelector(`#${this.main.toolByName.open.buttonId} > i`);g&&(g.className="ptro-icon ptro-icon-loading ptro-spinning")}}finishLoading(){if(this.main.toolByName.open.buttonId){const u=this.main.getElemByIdSafe(this.main.toolByName.open.buttonId);u&&u.removeAttribute("disabled");const g=this.main.doc.querySelector(`#${this.main.toolByName.open.buttonId} > i`);g&&(g.className="ptro-icon ptro-icon-open")}this.main.params.onImageLoaded&&this.main.params.onImageLoaded()}static get(u){return u.inserter||(u.inserter=new ct(u)),u.inserter}static controlObjToString(u,g=""){return u.id=z(),`<button type="button" id="${u.id}" class="ptro-selector-btn ptro-color-control ${g}"><div><i class="ptro-icon ptro-icon-paste_${u.internalName}"></i></div><div>${X(`pasteOptions.${u.internalName}`)}</div></button>`}html(){const u=this.main.params.backplateImgUrl;let g="",m="";return this.getAvailableOptions().forEach((u=>{"replace_all"===u||"paste_over"===u?g+=`<div class="ptro-paster-fit">\n          ${ct.controlObjToString(this.pasteOptions[u],"ptro-selector-fit")}\n        <div class="ptro-paster-wrapper-label">\n          ${X(`pasteOptions.${this.pasteOptions[u].internalName}`)}\n        </div></div>`:m+=ct.controlObjToString(this.pasteOptions[u],"ptro-selector-extend")})),`<div class="ptro-paster-select-wrapper" hidden><div class="ptro-paster-select ptro-v-middle"><div class="ptro-in ptro-v-middle-in"> <div class="ptro-paster-wrappers-fits">\n        ${g}\n        ${u||!m?"":`\n          <div class="ptro-paster-select-wrapper-extends">\n            <div class="ptro-paster-extends-items">\n              ${m}\n            </div>\n            <div class="ptro-paster-wrapper-label">${X("pasteOptions.extend")}</div>\n          </div>`}\n        </div>\n      </div></div></div>`}}class pt{constructor(u){this.main=u,this.wrapper=u.wrapper.querySelector(".ptro-settings-widget-wrapper"),this.inputPixelSize=u.wrapper.querySelector(".ptro-settings-widget-wrapper .ptro-pixel-size-input"),this.applyButton=u.wrapper.querySelector(".ptro-settings-widget-wrapper button.ptro-apply"),this.closeButton=u.wrapper.querySelector(".ptro-settings-widget-wrapper button.ptro-close"),this.clearButton=u.wrapper.querySelector(".ptro-settings-widget-wrapper button.ptro-clear"),this.bgSelBtn=u.wrapper.querySelector(".ptro-settings-widget-wrapper .ptro-color-btn"),this.errorHolder=u.wrapper.querySelector(".ptro-settings-widget-wrapper .ptro-error"),this.clearButton.onclick=()=>{this.main.currentBackground=this.main.colorWidgetState.bg.alphaColor,this.main.currentBackgroundAlpha=this.main.colorWidgetState.bg.alpha,this.main.clearBackground(),this.startClose()},this.bgSelBtn.onclick=()=>{this.main.colorPicker.open(this.main.colorWidgetState.bg)},this.closeButton.onclick=()=>{this.startClose()},this.applyButton&&(this.applyButton.onclick=()=>{let u,g=Q(this.inputPixelSize.value);if("%"===g.slice(-1)){const m=Q(g.slice(0,-1));u=/^\d+$/.test(m)&&0!==parseInt(m,10),u&&(g=`${m}%`)}else u=/^\d+$/.test(g)&&0!==parseInt(g,10);u?(this.main.select.pixelizePixelSize=g,rt("pixelizePixelSize",g),this.startClose(),this.errorHolder.setAttribute("hidden","")):(this.errorHolder.innerText=X("wrongPixelSizeValue"),this.errorHolder.removeAttribute("hidden"))})}handleKeyDown(u){return u.keyCode===st.enter||u.keyCode===st.esc&&(this.startClose(),!0)}open(){this.wrapper.removeAttribute("hidden"),this.opened=!0,this.inputPixelSize&&(this.inputPixelSize.value=this.main.select.pixelizePixelSize),this.bgSelBtn.style["background-color"]=this.main.colorWidgetState.bg.alphaColor}close(){this.wrapper.setAttribute("hidden","true"),this.opened=!1}startClose(){this.errorHolder.setAttribute("hidden",""),this.main.closeActiveTool()}static html(u){return`<div class="ptro-settings-widget-wrapper ptro-common-widget-wrapper ptro-v-middle" hidden><div class="ptro-settings-widget ptro-color-main ptro-v-middle-in"><table style="margin-top: 5px"><tr><td class="ptro-label ptro-resize-table-left" style="height:30px;">${X("backgroundColor")}</td><td class="ptro-strict-cell"><button type="button" data-id="bg" class="ptro-color-btn ptro-bordered-btn ptro-color-control" style="margin-top: -12px;"></button><span class="ptro-btn-color-checkers"></span></td><td><button type="button" style="margin-top: -2px;" class="ptro-named-btn ptro-clear ptro-color-control" title="${X("fillPageWith")}">${X("clear")}</button></td></tr>`+(u.params.pixelizeHideUserInput?"":`<tr><td class="ptro-label ptro-resize-table-left" >${X("pixelizePixelSize")}</td><td colspan="2"><input class="ptro-input ptro-pixel-size-input" pattern="[0-9]{1,}%?" type="text" /></td></tr>`)+'</table><div class="ptro-error" hidden></div><div style="margin-top: 20px">'+(u.params.pixelizeHideUserInput?`<button type="button" class="ptro-named-btn ptro-close ptro-color-control">${X("close")}</button>`:`<button type="button" class="ptro-named-btn ptro-apply ptro-color-control">${X("apply")}</button><button type="button" class="ptro-named-btn ptro-close ptro-color-control">${X("cancel")}</button>`)+"</div></div></div>"}}class dt{constructor(u){this.main=u}buildFontSizeControl(u){const e=()=>{const g=this.main.getElemByIdSafe(this.main.activeTool.controls[u].id).value;this.main.textTool.setFontSize(g),rt("defaultFontSize",g)},i=()=>this.main.textTool.fontSize;return this.main.params.availableFontSizes?dt.buildDropDownControl("fontSize",e,i,this.main.params.availableFontSizes):dt.buildInputControl("fontSize",e,i,1,200)}buildEraserWidthControl(u){const e=()=>{const g=this.main.getElemByIdSafe(this.main.activeTool.controls[u].id).value;this.main.primitiveTool.setEraserWidth(g),rt("defaultEraserWidth",g)},i=()=>this.main.primitiveTool.eraserWidth;return this.main.params.availableEraserWidths?dt.buildDropDownControl("eraserWidth",e,i,this.main.params.availableEraserWidths):dt.buildInputControl("eraserWidth",e,i,1,99)}buildLineWidthControl(u){const e=()=>{const g=this.main.getElemByIdSafe(this.main.activeTool.controls[u].id).value;this.main.primitiveTool.setLineWidth(g),rt("defaultLineWidth",g)},i=()=>this.main.primitiveTool.lineWidth;return this.main.params.availableLineWidths?dt.buildDropDownControl("lineWidth",e,i,this.main.params.availableLineWidths):dt.buildInputControl("lineWidth",e,i,0,99)}buildShadowOnControl(u){return{type:"bool",title:"shadowOn",titleFull:"shadowOnFull",target:"shadowOn",action:()=>{const g=this.main.getElemByIdSafe(this.main.activeTool.controls[u].id),m=!("true"===g.getAttribute("data-value"));this.main.primitiveTool.setShadowOn(m),g.setAttribute("data-value",m?"true":"false"),rt("defaultPrimitiveShadowOn",m)},getValue:()=>this.main.primitiveTool.shadowOn}}buildPaintBucketControl(u){return dt.buildInputControl("lineWidth",(()=>{const g=document.getElementById(this.main.activeTool.controls[u].id).value;console.log("buildPaintBucketControl width: "+g),rt("activeFillColor",g)}),(()=>this.main.primitiveTool.lineWidth),1,99)}buildArrowLengthControl(u){const e=()=>{const g=this.main.getElemByIdSafe(this.main.activeTool.controls[u].id).value;this.main.primitiveTool.setArrowLength(g),rt("defaultArrowLength",g)},i=()=>this.main.primitiveTool.arrowLength;return this.main.params.availableArrowLengths?dt.buildDropDownControl("arrowLength",e,i,this.main.params.availableArrowLengths):dt.buildInputControl("arrowLength",e,i,1,99)}static buildInputControl(u,g,m,w,b){return{type:"int",title:u,titleFull:`${u}Full`,target:u,min:w,max:b,action:g,getValue:m}}static buildDropDownControl(u,g,m,w){return{type:"dropdown",title:u,titleFull:`${u}Full`,target:u,action:g,getValue:m,getAvailableValues:()=>w.map((u=>({value:u,name:u.toString(),title:u.toString()})))}}}class ut{constructor(u){this.main=u,this.canvasWidth=600,this.canvasHeight=420,this.el=this.main.toolContainer,this.input=this.el.querySelector(".ptro-text-tool-input")}init(){this.ctx=this.main.ctx,this.canvas=this.main.canvas,this.colorLayerData=this.ctx.getImageData(0,0,this.canvasWidth,this.canvasHeight),this.drawingAreaX=0,this.drawingAreaY=0,this.canvasWidth=this.canvas.width,this.canvasHeight=this.canvas.height,this.drawingAreaWidth=this.canvasWidth,this.drawingAreaHeight=this.canvasHeight}handleMouseDown(u){const g=u.target.classList[0],m=this.main.getScale();if("ptro-crp-el"===g){this.init(),this.colorLayerData=this.ctx.getImageData(0,0,this.canvasWidth,this.canvasHeight),this.active||(this.input.innerHTML="<br>",this.pendingClear=!0),this.active=!0;const g=[u.clientX-this.main.elLeft()+this.main.scroller.scrollLeft,u.clientY-this.main.elTop()+this.main.scroller.scrollTop],w={x:g[0]*m,y:g[1]*m};this.paintAt(w.x,w.y)}}paintAt(u,g){u=(u=Math.round(u))>0?u:0,g=(g=Math.round(g-1))>0?g:0,this.getClickedOnColor(u,g);var m=4*(g*this.canvasWidth+u),w=this.getPixelColor(this.colorLayerData,m),b=w.r,x=w.g,v=w.b;w.a;const I=V(this.main.colorWidgetState.fill.palleteColor);this.color=this.main.colorWidgetState.fill.palleteColor,b===I.r&&x===I.g&&v===I.b||(this.floodFill(u,g,b,x,v),this.ctx.putImageData(this.colorLayerData,0,0),this.main.worklog.captureState())}matchStartColor(u){var g=this.getPixelColor(this.colorLayerData,u);return this.matchClickedColor(g.r,g.g,g.b,g.a)}matchClickedColor(u,g,m,w){const b=this.main.params.bucketSensivity;var x=Math.abs(u-this.clickedOnColor.r)<b,v=Math.abs(g-this.clickedOnColor.g)<b,I=Math.abs(m-this.clickedOnColor.b)<b,y=Math.abs(w-this.clickedOnColor.a)<b;return x&&v&&I&&y}getClickedOnColor(u,g){var m=4*(g*this.canvasWidth+u),w=this.getPixelColor(this.colorLayerData,m);this.clickedOnColor={r:w.r,g:w.g,b:w.b,a:w.a}}floodFill(u,g,m,w,b){for(var x,v,I,y,k,S,T=this.drawingAreaX,L=this.drawingAreaY,Y=this.drawingAreaX+this.drawingAreaWidth-1,D=this.drawingAreaY+this.drawingAreaHeight-1,R=[[u,g]];R.length;){v=(x=R.pop())[0],y=4*((I=x[1])*this.canvasWidth+v);const u=V(this.color);for(;I>=L&&this.matchStartColor(y);)I-=1,y-=4*this.canvasWidth;for(y+=4*this.canvasWidth,I+=1,k=!1,S=!1;I<=D&&this.matchStartColor(y);)I+=1,this.colorPixel(y,u.r,u.g,u.b),v>T&&(this.matchStartColor(y-4)?k||(R.push([v-1,I]),k=!0):k&&(k=!1)),v<Y&&(this.matchStartColor(y+4)?S||(R.push([v+1,I]),S=!0):S&&(S=!1)),y+=4*this.canvasWidth}}colorPixel(u,g,m,w,b){this.colorLayerData.data[u]=g,this.colorLayerData.data[u+1]=m,this.colorLayerData.data[u+2]=w,this.colorLayerData.data[u+3]=void 0!==b?b:255}getPixelColor(u,g){return{r:u.data[g],g:u.data[g+1],b:u.data[g+2],a:u.data[g+3]}}}class gt{constructor(u){"documentOffsetTop"in Element.prototype||Object.defineProperty(Element.prototype,"documentOffsetTop",{get(){return this.getBoundingClientRect().top}}),"documentOffsetLeft"in Element.prototype||Object.defineProperty(Element.prototype,"documentOffsetLeft",{get(){return this.getBoundingClientRect().left}}),"documentClientWidth"in Element.prototype||Object.defineProperty(Element.prototype,"documentClientWidth",{get(){const u=this.getBoundingClientRect();return u.width?u.width:u.right-u.left}}),"documentClientHeight"in Element.prototype||Object.defineProperty(Element.prototype,"documentClientHeight",{get(){const u=this.getBoundingClientRect();return u.height?u.height:u.bottom-u.top}}),this.getElemByIdSafe=u=>{if(!u)throw new Error(`Can't get element with id=${u}, please create an issue here, we will easily fx it: https://github.com/devforth/painterro/issues/`);return document.getElementById(u)},this.tools=[{name:"select",hotkey:"s",activate:()=>{this.initText&&this.wrapper.click(),this.toolContainer.style.cursor="crosshair",this.select.activate(),this.select.draw()},close:()=>{this.select.close(),this.toolContainer.style.cursor="auto"},eventListner:()=>this.select},{name:"crop",hotkey:"c",activate:()=>{this.initText&&this.wrapper.click(),this.select.doCrop(),this.closeActiveTool()}},{name:"pixelize",hotkey:"p",activate:()=>{this.initText&&this.wrapper.click(),this.select.doPixelize(),this.closeActiveTool()}},{name:"line",hotkey:"l",controls:[()=>({type:"color",title:"lineColor",target:"line",titleFull:"lineColorFull",action:()=>{this.colorPicker.open(this.colorWidgetState.line)}}),()=>this.controlBuilder.buildLineWidthControl(1),()=>this.controlBuilder.buildShadowOnControl(2)],activate:()=>{this.initText&&this.wrapper.click(),this.toolContainer.style.cursor="crosshair",this.primitiveTool.activate("line")},eventListner:()=>this.primitiveTool},{name:"arrow",hotkey:"a",controls:[()=>({type:"color",title:"lineColor",target:"line",titleFull:"lineColorFull",action:()=>{this.colorPicker.open(this.colorWidgetState.line)}}),()=>this.controlBuilder.buildArrowLengthControl(1),()=>this.controlBuilder.buildShadowOnControl(2)],activate:()=>{this.initText&&this.wrapper.click(),this.toolContainer.style.cursor="crosshair",this.primitiveTool.activate("arrow")},eventListner:()=>this.primitiveTool},{name:"rect",controls:[()=>({type:"color",title:"lineColor",titleFull:"lineColorFull",target:"line",action:()=>{this.colorPicker.open(this.colorWidgetState.line)}}),()=>({type:"color",title:"fillColor",titleFull:"fillColorFull",target:"fill",action:()=>{this.colorPicker.open(this.colorWidgetState.fill)}}),()=>this.controlBuilder.buildLineWidthControl(2),()=>this.controlBuilder.buildShadowOnControl(3)],activate:()=>{this.initText&&this.wrapper.click(),this.toolContainer.style.cursor="crosshair",this.primitiveTool.activate("rect")},eventListner:()=>this.primitiveTool},{name:"ellipse",controls:[()=>({type:"color",title:"lineColor",titleFull:"lineColorFull",target:"line",action:()=>{this.colorPicker.open(this.colorWidgetState.line)}}),()=>({type:"color",title:"fillColor",titleFull:"fillColorFull",target:"fill",action:()=>{this.colorPicker.open(this.colorWidgetState.fill)}}),()=>this.controlBuilder.buildLineWidthControl(2),()=>this.controlBuilder.buildShadowOnControl(3)],activate:()=>{this.initText&&this.wrapper.click(),this.toolContainer.style.cursor="crosshair",this.primitiveTool.activate("ellipse")},eventListner:()=>this.primitiveTool},{name:"brush",hotkey:"b",controls:[()=>({type:"color",title:"lineColor",target:"line",titleFull:"lineColorFull",action:()=>{this.colorPicker.open(this.colorWidgetState.line)}}),()=>this.controlBuilder.buildLineWidthControl(1)],activate:()=>{this.initText&&this.wrapper.click(),this.toolContainer.style.cursor="crosshair",this.primitiveTool.activate("brush")},eventListner:()=>this.primitiveTool},{name:"eraser",controls:[()=>this.controlBuilder.buildEraserWidthControl(0)],activate:()=>{this.initText&&this.wrapper.click(),this.toolContainer.style.cursor="crosshair",this.primitiveTool.activate("eraser")},eventListner:()=>this.primitiveTool},{name:"text",hotkey:"t",controls:[()=>({type:"color",title:"textColor",titleFull:"textColorFull",target:"line",action:()=>{this.colorPicker.open(this.colorWidgetState.line,(u=>{this.textTool.setFontColor(u.alphaColor)}))}}),()=>this.controlBuilder.buildFontSizeControl(1),()=>({type:"dropdown",title:"fontName",titleFull:"fontNameFull",target:"fontName",action:()=>{const u=this.getElemByIdSafe(this.activeTool.controls[2].id).value;this.textTool.setFont(u)},getValue:()=>this.textTool.getFont(),getAvailableValues:()=>this.textTool.getFonts()}),()=>({type:"bool",title:"fontIsBold",titleFull:"fontIsBoldFull",target:"fontIsBold",action:()=>{const u=this.getElemByIdSafe(this.activeTool.controls[3].id),g=!("true"===u.getAttribute("data-value"));this.textTool.setFontIsBold(g),rt("defaultFontBold",g),u.setAttribute("data-value",g?"true":"false")},getValue:()=>this.textTool.isBold}),()=>({type:"bool",title:"fontIsItalic",titleFull:"fontIsItalicFull",target:"fontIsItalic",action:()=>{const u=this.getElemByIdSafe(this.activeTool.controls[4].id),g=!("true"===u.getAttribute("data-value"));this.textTool.setFontIsItalic(g),rt("defaultFontItalic",g),u.setAttribute("data-value",g?"true":"false")},getValue:()=>this.textTool.isItalic}),()=>({type:"bool",title:"fontStrokeAndShadow",titleFull:"fontStrokeAndShadowFull",target:"fontStrokeAndShadow",action:()=>{const u=this.getElemByIdSafe(this.activeTool.controls[5].id),g=!("true"===u.getAttribute("data-value"));this.textTool.setStrokeOn(g),rt("defaultTextStrokeAndShadow",g),u.setAttribute("data-value",g?"true":"false")},getValue:()=>this.textTool.strokeOn})],activate:()=>{this.initText&&this.wrapper.click(),this.textTool.setFontColor(this.colorWidgetState.line.alphaColor),this.toolContainer.style.cursor="crosshair"},close:()=>{this.textTool.close()},eventListner:()=>this.textTool},{name:"rotate",hotkey:"r",activate:()=>{this.initText&&this.wrapper.click();const u=this.size.w,g=this.size.h,m=this.ctx.getImageData(0,0,this.size.w,this.size.h),w=this.doc.createElement("canvas");w.width=u,w.height=g,w.getContext("2d").putImageData(m,0,0),this.resize(g,u),this.ctx.save(),this.ctx.translate(g/2,u/2),this.ctx.rotate(90*Math.PI/180),this.ctx.drawImage(w,-u/2,-g/2),this.adjustSizeFull(),this.ctx.restore(),this.worklog.captureState(),this.closeActiveTool()}},{name:"resize",activate:()=>{this.initText&&this.wrapper.click(),this.resizer.open()},close:()=>{this.resizer.close()},eventListner:()=>this.resizer},{name:"undo",activate:()=>{this.initText&&this.wrapper.click(),this.worklog.undoState()},eventListner:()=>this.resizer},{name:"redo",activate:()=>{this.initText&&this.wrapper.click(),this.worklog.redoState()},eventListner:()=>this.resizer},{name:"settings",activate:()=>{this.initText&&this.wrapper.click(),this.settings.open()},close:()=>{this.settings.close()},eventListner:()=>this.settings},{name:"zoomout",activate:()=>{this.initText&&this.wrapper.click(),this.zoomButtonActive=!0;const u=this.canvas.getBoundingClientRect(),g={wheelDelta:-120,clientX:u.right/2,clientY:u.bottom/2};this.curCord=[g.clientX-this.elLeft()+this.scroller.scrollLeft,g.clientY-this.elTop()+this.scroller.scrollTop];const m=this.getScale();this.curCord=[this.curCord[0]*m,this.curCord[1]*m],this.zoomImage(g)}},{name:"zoomin",activate:()=>{this.initText&&this.wrapper.click(),this.zoomButtonActive=!0;const u=this.canvas.getBoundingClientRect(),g={wheelDelta:120,clientX:u.right/2,clientY:u.bottom/2};this.curCord=[g.clientX-this.elLeft()+this.scroller.scrollLeft,g.clientY-this.elTop()+this.scroller.scrollTop];const m=this.getScale();this.curCord=[this.curCord[0]*m,this.curCord[1]*m],this.zoomImage(g)}},{name:"bucket",hotkey:"f",controls:[()=>({type:"color",title:"fillColor",target:"fill",titleFull:"fillColorFull",action:()=>{this.colorPicker.open(this.colorWidgetState.fill)}})],activate:()=>{this.toolContainer.style.cursor="crosshair",this.primitiveTool.activate("bucket")},eventListner:()=>this.paintBucket},{name:"clear",activate:()=>{this.clear(),this.closeActiveTool()}},{name:"save",right:!0,hotkey:()=>!!this.params.saveByEnter&&"enter",activate:()=>{this.initText&&this.wrapper.click(),this.save(),this.closeActiveTool()}},{name:"open",right:!0,activate:()=>{this.initText&&this.wrapper.click(),this.closeActiveTool();const u=this.getElemByIdSafe(this.fileInputId);u.onchange=g=>{const m=g.target.files||g.dataTransfer.files;m.length&&(this.openFile(m[0]),u.value="")},u.click()}},{name:"close",hotkey:()=>!!this.params.hideByEsc&&"esc",right:!0,activate:()=>{this.initText&&this.wrapper.click();const t=()=>{this.closeActiveTool(),this.close(),this.hide()};this.params.onBeforeClose?this.params.onBeforeClose(this.hasUnsaved,t):t()}}],this.params=ot(u,this.tools.map((u=>u.name))),this.colorWidgetState={line:{target:"line",palleteColor:this.params.activeColor,alpha:this.params.activeColorAlpha,alphaColor:this.params.activeAlphaColor},fill:{target:"fill",palleteColor:this.params.activeFillColor,alpha:this.params.activeFillColorAlpha,alphaColor:this.params.activeFillAlphaColor},bg:{target:"bg",palleteColor:this.params.backgroundFillColor,alpha:this.params.backgroundFillColorAlpha,alphaColor:this.params.backgroundFillAlphaColor}},this.currentBackground=this.colorWidgetState.bg.alphaColor,this.currentBackgroundAlpha=this.colorWidgetState.bg.alpha,this.controlBuilder=new dt(this),this.isMobile=B.any,this.toolByName={},this.toolByKeyCode={},this.tools.forEach((u=>{if(u.controls&&(u.controls=u.controls.map((u=>u()))),this.toolByName[u.name]=u,u.hotkey instanceof Function&&(u.hotkey=u.hotkey()),u.hotkey&&!this.params.hiddenTools.includes(u.name)){if(!st[u.hotkey])throw new Error(`Key code for ${u.hotkey} not defined in KEYS`);this.toolByKeyCode[st[u.hotkey]]=u}})),this.activeTool=void 0,this.zoom=!1,this.ratioRelation=void 0,this.id=this.params.id,this.saving=!1,void 0===this.id?(this.id=z(),this.holderId=z(),this.holderEl=document.createElement("div"),this.holderEl.id=this.holderId,this.holderEl.className="ptro-holder-wrapper",document.body.appendChild(this.holderEl),this.holderEl.innerHTML=`<div id='${this.id}' class="ptro-holder"></div>`,this.baseEl=this.getElemByIdSafe(this.id)):(this.baseEl=this.getElemByIdSafe(this.id),this.holderEl=null);let g="",m="";this.tools.filter((u=>!this.params.hiddenTools.includes(u.name))).forEach((u=>{const w=z();u.buttonId=w;const b=u.hotkey?` [${u.hotkey.toUpperCase()}]`:"",x=`<button type="button" class="ptro-icon-btn ptro-color-control" title="${X(`tools.${u.name}`)}${b}" id="${w}" ><i class="ptro-icon ptro-icon-${u.name}"></i></button>`;u.right?m+=x:g+=x})),this.inserter=ct.get(this);const w=`<div class="ptro-crp-el">${P.code()}${At.code()}</div>`;this.loadedName="",this.doc=document,this.wrapper=this.doc.createElement("div"),this.wrapper.id=`${this.id}-wrapper`,this.wrapper.className="ptro-wrapper",this.wrapper.innerHTML=`<div class="ptro-scroller"><div class="ptro-center-table"><div class="ptro-center-tablecell"><canvas id="${this.id}-canvas"></canvas><div class="ptro-substrate"></div>${w}</div></div></div>${tt.html()+at.html()+ht.html()+pt.html(this)+this.inserter.html()}`,this.baseEl.appendChild(this.wrapper),this.scroller=this.doc.querySelector(`#${this.id}-wrapper .ptro-scroller`),this.bar=this.doc.createElement("div"),this.bar.id=`${this.id}-bar`,this.bar.className="ptro-bar ptro-color-main",this.fileInputId=z(),this.bar.innerHTML=`<div>${g}<span class="ptro-tool-controls"></span><span class="ptro-info"></span><span class="ptro-bar-right">${m}</span><input id="${this.fileInputId}" type="file" style="display: none" value="none" accept="image/x-png,image/png,image/gif,image/jpeg" /></div>`,this.isMobile&&(this.bar.style["overflow-x"]="auto"),this.baseEl.appendChild(this.bar);const b=this.doc.createElement("style");if(b.type="text/css",b.innerHTML=this.params.styles,this.baseEl.appendChild(b),this.saveBtn=this.baseEl.querySelector(`#${this.toolByName.save.buttonId}`),this.toolByName.save.buttonId&&this.saveBtn&&this.saveBtn.setAttribute("disabled","true"),this.body=this.doc.body,this.info=this.doc.querySelector(`#${this.id}-bar .ptro-info`),this.canvas=this.doc.querySelector(`#${this.id}-canvas`),this.ctx=this.canvas.getContext("2d"),this.toolControls=this.doc.querySelector(`#${this.id}-bar .ptro-tool-controls`),this.toolContainer=this.doc.querySelector(`#${this.id}-wrapper .ptro-crp-el`),this.substrate=this.doc.querySelector(`#${this.id}-wrapper .ptro-substrate`),this.zoomHelper=new at(this),this.zoomButtonActive=!1,this.select=new P(this,(u=>{[this.toolByName.crop,this.toolByName.pixelize].forEach((g=>{this.setToolEnabled(g,u)}))})),this.params.backplateImgUrl){this.tabelCell=this.canvas.parentElement,this.tabelCell.style.backgroundImage=`url(${this.params.backplateImgUrl})`,this.tabelCell.style.backgroundRepeat="no-repeat",this.tabelCell.style.backgroundPosition="center center";const u=new Image;u.onload=()=>{this.resize(u.naturalWidth,u.naturalHeight),this.adjustSizeFull(),this.worklog.captureState(),this.tabelCell.style.backgroundSize=`${window.getComputedStyle(this.substrate).width} ${window.getComputedStyle(this.substrate).height}`},u.src=this.params.backplateImgUrl}this.resizer=new ht(this),this.settings=new pt(this),this.primitiveTool=new M(this),this.primitiveTool.setShadowOn(this.params.defaultPrimitiveShadowOn),this.primitiveTool.setLineWidth(this.params.defaultLineWidth),this.primitiveTool.setArrowLength(this.params.defaultArrowLength),this.primitiveTool.setEraserWidth(this.params.defaultEraserWidth),this.primitiveTool.setPixelSize(this.params.defaultPixelSize),this.hasUnsaved=!1,this.worklog=new W(this,(u=>{this.saveBtn&&!u.initial&&(this.saveBtn.removeAttribute("disabled"),this.hasUnsaved=!0),this.setToolEnabled(this.toolByName.undo,!u.first),this.setToolEnabled(this.toolByName.redo,!u.last),this.params.onChange&&this.params.onChange.call(this,{image:this.imageSaver,operationsDone:this.worklog.current.prevCount,realesedMemoryOperations:this.worklog.clearedCount})})),this.inserter.init(this),this.paintBucket=new ut(this),this.textTool=new At(this),this.colorPicker=new tt(this,(u=>{this.colorWidgetState[u.target]=u,this.doc.querySelector(`#${this.id} .ptro-color-btn[data-id='${u.target}']`).style["background-color"]=u.alphaColor;const g=V(u.palleteColor);void 0!==g&&(u.palleteColor=_(g.r,g.g,g.b),"line"===u.target?(rt("activeColor",u.palleteColor),rt("activeColorAlpha",u.alpha)):"fill"===u.target?(rt("activeFillColor",u.palleteColor),rt("activeFillColorAlpha",u.alpha)):"bg"===u.target?(rt("backgroundFillColor",u.palleteColor),rt("backgroundFillColorAlpha",u.alpha)):"stroke"===u.target&&(rt("textStrokeColor",u.palleteColor),rt("textStrokeColorAlpha",u.alpha)))})),this.defaultTool=this.toolByName[this.params.defaultTool],this.tools.filter((u=>-1===this.params.hiddenTools.indexOf(u.name))).forEach((u=>{this.getBtnEl(u).onclick=()=>{if(u===this.defaultTool&&this.activeTool===u)return;const g=this.activeTool;this.closeActiveTool(!0),g!==u?this.setActiveTool(u):this.setActiveTool(this.defaultTool)},this.getBtnEl(u).ontouch=this.getBtnEl(u).onclick})),this.getBtnEl(this.defaultTool).click(),this.imageSaver={asDataURL:(u,g)=>{let m=u;return void 0===m&&(m=this.loadedImageType?this.loadedImageType:"image/png"),this.getAsUri(m,g)},asBlob:(u,g)=>{let m=u;void 0===m&&(m=this.loadedImageType?this.loadedImageType:"image/png");const w=this.getAsUri(m,g),b=atob(w.split(",")[1]),x=new ArrayBuffer(b.length),v=new Uint8Array(x);for(let u=0;u<b.length;u+=1)v[u]=b.charCodeAt(u);return new Blob([x],{type:m})},getOriginalMimeType:()=>this.loadedImageType,hasAlphaChannel:()=>{const u=this.ctx.getImageData(0,0,this.canvas.width,this.canvas.height).data;for(let g=3,m=u.length;g<m;g+=4)if(u[g]<255)return!0;return!1},suggestedFileName:u=>{let g=u;return void 0===g&&(g="png"),`${this.loadedName||`image-${z()}`}.${g}`},getWidth:()=>this.size.w,getHeight:()=>this.size.h},this.initEventHandlers(),this.hide(),this.zoomFactor=1}setToolEnabled(u,g){if(u.buttonId){const m=this.getElemByIdSafe(u.buttonId);g?m.removeAttribute("disabled"):m.setAttribute("disabled","true")}}getAsUri(u,g){let m=g;return void 0===m&&(m=.92),this.canvas.toDataURL(u,m)}getBtnEl(u){return this.getElemByIdSafe(u.buttonId)}save(){if(this.saving)return this;this.saving=!0;const u=this.baseEl.querySelector(`#${this.toolByName.save.buttonId}`),g=this.baseEl.querySelector(`#${this.toolByName.save.buttonId} > i`);return this.toolByName.save.buttonId&&u&&u.setAttribute("disabled","true"),this.hasUnsaved=!1,g&&(g.className="ptro-icon ptro-icon-loading ptro-spinning"),void 0!==this.params.saveHandler?this.params.saveHandler(this.imageSaver,(u=>{!0===u&&this.hide(),g&&(g.className="ptro-icon ptro-icon-save"),this.saving=!1})):(F("No saveHandler defined, please check documentation"),g&&(g.className="ptro-icon ptro-icon-save"),this.saving=!1),this}close(){void 0!==this.params.onClose&&this.params.onClose()}closeActiveTool(u){if(void 0!==this.activeTool){void 0!==this.activeTool.close&&this.activeTool.close(),this.toolControls.innerHTML="";const u=this.getBtnEl(this.activeTool);u&&(u.className=this.getBtnEl(this.activeTool).className.replace(" ptro-color-active-control","")),this.activeTool=void 0}!0!==u&&this.setActiveTool(this.defaultTool)}handleToolEvent(u,g){if(this.select.imagePlaced||this.select.area.activated)return this.select[u](g);if(this.activeTool&&this.activeTool.eventListner){const m=this.activeTool.eventListner();if(m[u])return m[u](g)}return!1}handleClipCopyEvent(u){let g=!1;const m="image/png";if(u.keyCode===st.c&&(u.ctrlKey||u.metaKey))if(console.log("handing copy"),this.inserter.waitChoice||this.select.imagePlaced||!this.select.shown)this.canvas.toBlob((u=>{navigator.clipboard.write([new ClipboardItem({[m]:u})])}),m,1),g=!0;else{const u=this.select.area,w=u.bottoml[0]-u.topl[0],b=u.bottoml[1]-u.topl[1],x=this.doc.createElement("canvas");x.width=w,x.height=b;x.getContext("2d").drawImage(this.canvas,-u.topl[0],-u.topl[1]),x.toBlob((u=>{navigator.clipboard.write([new ClipboardItem({[m]:u})])}),m,1),g=!0}return g}zoomImage({wheelDelta:u,clientX:g,clientY:m},w,b){let x=u;void 0!==w&&(x=w);let v=1;this.size.w>this.wrapper.documentClientWidth&&(v=Math.min(v,this.wrapper.documentClientWidth/this.size.w)),this.size.h>this.wrapper.documentClientHeight&&(v=Math.min(v,this.wrapper.documentClientHeight/this.size.h)),!this.zoom&&this.zoomFactor>v&&(this.zoomFactor=v);let I=.2;void 0!==b&&(I=b),this.zoomFactor+=Math.sign(x)*I,this.zoomFactor<v?(this.zoom=!1,this.zoomFactor=v):this.zoom=!0,this.adjustSizeFull(),this.select.adjustPosition(),this.zoom&&(this.scroller.scrollLeft=this.curCord[0]/this.getScale()-(g-this.wrapper.documentOffsetLeft),this.scroller.scrollTop=this.curCord[1]/this.getScale()-(m-this.wrapper.documentOffsetTop))}initEventHandlers(){this.documentHandlers={mousedown:u=>{this.shown&&(!this.worklog.empty||-1===u.target.className.indexOf("ptro-crp-el")&&-1===u.target.className.indexOf("ptro-icon")&&-1===u.target.className.indexOf("ptro-named-btn")||this.clearBackground(),!0!==this.colorPicker.handleMouseDown(u)&&this.handleToolEvent("handleMouseDown",u))},touchstart:u=>{if(1===u.touches.length)u.clientX=u.changedTouches[0].clientX,u.clientY=u.changedTouches[0].clientY,this.documentHandlers.mousedown(u);else if(2===u.touches.length){const g=E({x:u.touches[0].clientX,y:u.touches[0].clientY},{x:u.touches[1].clientX,y:u.touches[1].clientY});this.lastFingerDist=g}},touchend:u=>{u.clientX=u.changedTouches[0].clientX,u.clientY=u.changedTouches[0].clientY,this.documentHandlers.mouseup(u)},touchmove:u=>{if(1===u.touches.length)u.clientX=u.touches[0].clientX,u.clientY=u.touches[0].clientY,this.documentHandlers.mousemove(u);else if(2===u.touches.length){const g=E({x:u.touches[0].clientX,y:u.touches[0].clientY},{x:u.touches[1].clientX,y:u.touches[1].clientY}),m={x:(u.touches[0].clientX+u.touches[1].clientX)/2,y:(u.touches[0].clientY+u.touches[1].clientY)/2};u.clientX=m.x,u.clientY=m.y;const w=Math.abs(g-this.lastFingerDist),b=g>this.lastFingerDist?1:-1;this.documentHandlers.wheel(u,b,!0,.001*w),this.lastFingerDist=g,u.stopPropagation(),this.zoomButtonActive||u.preventDefault()}},mousemove:u=>{if(this.shown){this.handleToolEvent("handleMouseMove",u),this.colorPicker.handleMouseMove(u),this.zoomHelper.handleMouseMove(u),this.curCord=[u.clientX-this.elLeft()+this.scroller.scrollLeft,u.clientY-this.elTop()+this.scroller.scrollTop];const g=this.getScale();this.curCord=[this.curCord[0]*g,this.curCord[1]*g],void 0!==u.target.tagName&&"input"!==u.target.tagName.toLowerCase()&&"button"!==u.target.tagName.toLowerCase()&&"i"!==u.target.tagName.toLowerCase()&&"select"!==u.target.tagName.toLowerCase()&&(this.zoomButtonActive||u.preventDefault())}},mouseup:u=>{this.shown&&(this.handleToolEvent("handleMouseUp",u),this.colorPicker.handleMouseUp(u))},wheel:(u,g,m,w)=>{this.shown&&(void 0!==m?m:u.ctrlKey)&&(this.zoomImage(u,g,w),u.preventDefault())},keydown:u=>{console.log("event.target !== document.body",event.target,document.body);const g=event.target;if(!["input","textarea","div[contenteditable]"].some((u=>g.matches(u)))&&this.shown){if(this.colorPicker.handleKeyDown(u))return;if(this.handleClipCopyEvent(u))return;const g=window.event?event:u;if(this.handleToolEvent("handleKeyDown",g))return;g.keyCode===st.y&&g.ctrlKey||g.keyCode===st.z&&g.ctrlKey&&g.shiftKey?(this.worklog.redoState(),u.preventDefault(),this.params.userRedo&&this.params.userRedo.call()):g.keyCode===st.z&&g.ctrlKey&&(this.worklog.undoState(),u.preventDefault(),this.params.userUndo&&this.params.userUndo.call()),this.toolByKeyCode[event.keyCode]&&(this.getBtnEl(this.toolByKeyCode[event.keyCode]).click(),u.stopPropagation(),u.preventDefault()),this.saveBtn&&g.keyCode===st.s&&g.ctrlKey&&(this.initText&&this.wrapper.click(),this.save(),g.preventDefault())}},paste:u=>{if(this.initText&&this.wrapper.click(),this.shown){const g=(u.clipboardData||u.originalEvent.clipboardData).items;Object.keys(g).forEach((m=>{const w=g[m];"file"===w.kind&&"image"===w.type.split("/")[0]&&(this.openFile(w.getAsFile()),u.preventDefault(),u.stopPropagation())}))}},dragover:u=>{if(this.shown){const g=u.target.classList[0];"ptro-crp-el"!==g&&"ptro-bar"!==g||(this.bar.className="ptro-bar ptro-color-main ptro-bar-dragover"),u.preventDefault()}},dragleave:()=>{this.shown&&(this.bar.className="ptro-bar ptro-color-main")},drop:u=>{if(this.shown){this.bar.className="ptro-bar ptro-color-main",u.preventDefault();const g=u.dataTransfer.files[0];if(g)this.openFile(g);else{const g=u.dataTransfer.getData("text/html"),m=/src.*?=['"](.+?)['"]/.exec(g);this.inserter.handleOpen(m[1])}}}},this.windowHandlers={resize:()=>{this.shown&&(this.adjustSizeFull(),this.syncToolElement())}},this.listenersInstalled=!1}attachEventHandlers(){this.listenersInstalled||(Object.keys(this.documentHandlers).forEach((u=>{this.doc.addEventListener(u,this.documentHandlers[u],{passive:!1})})),Object.keys(this.windowHandlers).forEach((u=>{window.addEventListener(u,this.windowHandlers[u],{passive:!1})})),this.listenersInstalled=!0)}removeEventHandlers(){this.listenersInstalled&&(Object.keys(this.documentHandlers).forEach((u=>{this.doc.removeEventListener(u,this.documentHandlers[u])})),Object.keys(this.windowHandlers).forEach((u=>{window.removeEventListener(u,this.windowHandlers[u])})),this.listenersInstalled=!1)}elLeft(){return this.toolContainer.documentOffsetLeft+this.scroller.scrollLeft}elTop(){return this.toolContainer.documentOffsetTop+this.scroller.scrollTop}fitImage(u,g){this.loadedImageType=g,this.resize(u.naturalWidth,u.naturalHeight),this.ctx.drawImage(u,0,0),this.zoomFactor=this.wrapper.documentClientHeight/this.size.h-.2,this.adjustSizeFull(),this.worklog.captureState()}loadImage(u,g){this.inserter.handleOpen(u,g)}show(u,g){return this.shown=!0,this.scrollWidth=function(){const u=document.createElement("div");u.style.visibility="hidden",u.style.width="100px",u.style.msOverflowStyle="scrollbar",document.body.appendChild(u);const g=u.offsetWidth;u.style.overflow="scroll";const m=document.createElement("div");m.style.width="100%",u.appendChild(m);const w=m.offsetWidth;return u.parentNode.removeChild(u),g-w}(),this.isMobile&&(this.origOverflowY=this.body.style["overflow-y"],this.params.fixMobilePageReloader&&(this.body.style["overflow-y"]="hidden")),this.baseEl.removeAttribute("hidden"),this.holderEl&&this.holderEl.removeAttribute("hidden"),"string"==typeof u?(this.loadedName=Q((u.substring(u.lastIndexOf("/")+1)||"").replace(/\..+$/,"")),this.loadImage(u,g)):!1!==u&&this.clear(),this.attachEventHandlers(),this}hide(){return this.isMobile&&(this.body.style["overflow-y"]=this.origOverflowY),this.shown=!1,this.baseEl.setAttribute("hidden",""),this.holderEl&&this.holderEl.setAttribute("hidden",""),this.removeEventHandlers(),void 0!==this.params.onHide&&this.params.onHide(),this}doScale({width:u,height:g,scale:m}){if(m){if(u||g)throw new Error("You can't pass width or height and scale at the same time");this.resizer.newW=Math.round(this.size.w*m),this.resizer.newH=Math.round(this.size.h*m)}else{if(m)throw new Error("You can't pass width or height and scale at the same time");this.resizer.newW=u||Math.round(this.size.w*(g/this.size.h)),this.resizer.newH=g||Math.round(this.size.h*(u/this.size.w))}this.resizer.scaleButton.onclick()}openFile(u){if(!u)return;this.loadedName=Q((u.name||"").replace(/\..+$/,""));const g=(window.URL?window.URL:window.webkitURL).createObjectURL(u);this.loadImage(g,u.type)}getScale(){return this.canvas.getAttribute("width")/this.canvas.offsetWidth}adjustSizeFull(){const u=this.wrapper.documentClientWidth/this.wrapper.documentClientHeight;if(!1===this.zoom&&!1===this.textTool.active)if(this.size.w>this.wrapper.documentClientWidth||this.size.h>this.wrapper.documentClientHeight){const g=u<this.size.ratio;this.ratioRelation=g,g?(this.canvas.style.width=`${this.wrapper.clientWidth}px`,this.canvas.style.height="auto"):(this.canvas.style.width="auto",this.canvas.style.height=`${this.wrapper.clientHeight}px`),this.scroller.style.overflow="hidden"}else this.scroller.style.overflow="hidden",this.canvas.style.width="auto",this.canvas.style.height="auto",this.ratioRelation=0;else this.scroller.style.overflow="scroll",this.canvas.style.width=this.size.w*this.zoomFactor+"px",this.canvas.style.height=this.size.h*this.zoomFactor+"px",this.ratioRelation=0;this.syncToolElement(),this.select.draw()}resize(u,g){this.info.innerHTML=`${u}<span>x</span>${g}<br>${(this.originalMime||"png").replace("image/","")}`,this.size={w:u,h:g,ratio:u/g},this.canvas.setAttribute("width",this.size.w),this.canvas.setAttribute("height",this.size.h)}syncToolElement(){const u=Math.round(this.canvas.documentClientWidth),g=this.canvas.offsetLeft,m=Math.round(this.canvas.documentClientHeight),w=this.canvas.offsetTop;this.toolContainer.style.left=`${g}px`,this.toolContainer.style.width=`${u}px`,this.toolContainer.style.top=`${w}px`,this.toolContainer.style.height=`${m}px`,this.substrate.style.left=`${g}px`,this.substrate.style.width=`${u}px`,this.substrate.style.top=`${w}px`,this.substrate.style.height=`${m}px`}clear(){const u="fill"===this.params.defaultSize.width?this.wrapper.clientWidth:this.params.defaultSize.width,g="fill"===this.params.defaultSize.height?this.wrapper.clientHeight:this.params.defaultSize.height;if(this.resize(u,g),this.clearBackground(),this.worklog.captureState(!0),this.worklog.clean=!0,this.syncToolElement(),this.adjustSizeFull(),this.params.initText&&this.worklog.empty){this.ctx.lineWidth=3,this.ctx.strokeStyle="#fff";const u=this.wrapper.querySelectorAll(".init-text");u.length>0&&u.forEach((u=>{u.remove()})),this.initText=document.createElement("div"),this.initText.classList.add("init-text"),this.wrapper.append(this.initText),this.initText.innerHTML=`<div style="pointer-events: none;position:absolute;top:50%;width:100%;left: 50%; transform: translate(-50%, -50%)">${this.params.initText}</div>`,this.initText.style.left="0",this.initText.style.top="0",this.initText.style.right="0",this.initText.style.bottom="0",this.initText.style.pointerEvents="none",this.initText.style["text-align"]="center",this.initText.style.position="absolute",this.initText.style.color=this.params.initTextColor,this.initText.style["font-family"]=this.params.initTextStyle.split(/ (.+)/)[1],this.initText.style["font-size"]=this.params.initTextStyle.split(/ (.+)/)[0],this.wrapper.addEventListener("click",(()=>{this.initText.remove(),this.initText=null}),{once:!0})}}clearBackground(){this.ctx.beginPath(),this.ctx.clearRect(0,0,this.size.w,this.size.h),this.ctx.rect(0,0,this.size.w,this.size.h),this.ctx.fillStyle=this.currentBackground,this.ctx.fill()}setActiveTool(u){this.activeTool=u,this.zoomButtonActive=!1;const g=this.getBtnEl(this.activeTool);g&&(g.className+=" ptro-color-active-control");let m="";(u.controls||[]).forEach((u=>{if(u.id=z(),u.title&&(m+=`<span class="ptro-tool-ctl-name" title="${X(u.titleFull)}">${X(u.title)}</span>`),"btn"===u.type)m+=`<button type="button" ${u.hint?`title="${X(u.hint)}"`:""} class="ptro-color-control ${u.icon?"ptro-icon-btn":"ptro-named-btn"}" id=${u.id}>${u.icon?`<i class="ptro-icon ptro-icon-${u.icon}"></i>`:""}<p>${u.name||""}</p></button>`;else if("color"===u.type)m+=`<button type="button" id=${u.id} data-id='${u.target}' style="background-color: ${this.colorWidgetState[u.target].alphaColor}" class="color-diwget-btn ptro-color-btn ptro-bordered-btn ptro-color-control"></button><span class="ptro-btn-color-checkers-bar"></span>`;else if("int"===u.type)m+=`<input id=${u.id} class="ptro-input" type="number" min="${u.min}" max="${u.max}" data-id='${u.target}'/>`;else if("bool"===u.type)m+=`<button id=${u.id} class="ptro-input ptro-check" data-value="false" type="button" data-id='${u.target}'></button>`;else if("dropdown"===u.type){let g="";u.getAvailableValues().forEach((u=>{g+="<option "+(u.extraStyle?`style='${u.extraStyle}'`:"")+` value='${u.value}' ${u.title?`title='${u.title}'`:""}>${u.name}</option>`})),m+=`<select id=${u.id} class="ptro-input" data-id='${u.target}'>${g}</select>`}})),this.toolControls.innerHTML=m,(u.controls||[]).forEach((u=>{"int"===u.type?(this.getElemByIdSafe(u.id).value=u.getValue(),this.getElemByIdSafe(u.id).oninput=u.action):"bool"===u.type?(this.getElemByIdSafe(u.id).setAttribute("data-value",u.getValue()?"true":"false"),this.getElemByIdSafe(u.id).onclick=u.action):"dropdown"===u.type?(this.getElemByIdSafe(u.id).onchange=u.action,this.getElemByIdSafe(u.id).value=u.getValue()):this.getElemByIdSafe(u.id).onclick=u.action})),u.activate()}}const Ct=u=>new gt(u)},379:(u,g,m)=>{var w,n=function(){return void 0===w&&(w=Boolean(window&&document&&document.all&&!window.atob)),w},b=function(){var u={};return function(g){if(void 0===u[g]){var m=document.querySelector(g);if(window.HTMLIFrameElement&&m instanceof window.HTMLIFrameElement)try{m=m.contentDocument.head}catch(u){m=null}u[g]=m}return u[g]}}(),x=[];function s(u){for(var g=-1,m=0;m<x.length;m++)if(x[m].identifier===u){g=m;break}return g}function l(u,g){for(var m={},w=[],b=0;b<u.length;b++){var v=u[b],I=g.base?v[0]+g.base:v[0],y=m[I]||0,k="".concat(I," ").concat(y);m[I]=y+1;var S=s(k),T={css:v[1],media:v[2],sourceMap:v[3]};-1!==S?(x[S].references++,x[S].updater(T)):x.push({identifier:k,updater:C(T,g),references:1}),w.push(k)}return w}function A(u){var g=document.createElement("style"),w=u.attributes||{};if(void 0===w.nonce){var x=m.nc;x&&(w.nonce=x)}if(Object.keys(w).forEach((function(u){g.setAttribute(u,w[u])})),"function"==typeof u.insert)u.insert(g);else{var v=b(u.insert||"head");if(!v)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");v.appendChild(g)}return g}var v,I=(v=[],function(u,g){return v[u]=g,v.filter(Boolean).join("\n")});function p(u,g,m,w){var b=m?"":w.media?"@media ".concat(w.media," {").concat(w.css,"}"):w.css;if(u.styleSheet)u.styleSheet.cssText=I(g,b);else{var x=document.createTextNode(b),v=u.childNodes;v[g]&&u.removeChild(v[g]),v.length?u.insertBefore(x,v[g]):u.appendChild(x)}}function d(u,g,m){var w=m.css,b=m.media,x=m.sourceMap;if(b?u.setAttribute("media",b):u.removeAttribute("media"),x&&"undefined"!=typeof btoa&&(w+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(x))))," */")),u.styleSheet)u.styleSheet.cssText=w;else{for(;u.firstChild;)u.removeChild(u.firstChild);u.appendChild(document.createTextNode(w))}}var y=null,k=0;function C(u,g){var m,w,b;if(g.singleton){var x=k++;m=y||(y=A(g)),w=p.bind(null,m,x,!1),b=p.bind(null,m,x,!0)}else m=A(g),w=d.bind(null,m,g),b=function(){!function(u){if(null===u.parentNode)return!1;u.parentNode.removeChild(u)}(m)};return w(u),function(g){if(g){if(g.css===u.css&&g.media===u.media&&g.sourceMap===u.sourceMap)return;w(u=g)}else b()}}u.exports=function(u,g){(g=g||{}).singleton||"boolean"==typeof g.singleton||(g.singleton=n());var m=l(u=u||[],g);return function(u){if(u=u||[],"[object Array]"===Object.prototype.toString.call(u)){for(var w=0;w<m.length;w++){var b=s(m[w]);x[b].references--}for(var v=l(u,g),I=0;I<m.length;I++){var y=s(m[I]);0===x[y].references&&(x[y].updater(),x.splice(y,1))}m=v}}}},122:(u,g,m)=>{m.d(g,{Z:()=>w});const w="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMDAiIGhlaWdodD0iMTAwIj48ZyBmaWxsPSIjNDY0NjQ2Ij48cGF0aCBkPSJNMCAwaDUwdjUwSDB6TTUwIDUwaDUwdjUwSDUweiIvPjwvZz48L3N2Zz4="},589:(u,g,m)=>{m.d(g,{Z:()=>w});const w="data:font/ttf;base64,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AOwAAwABBAkACgBWAQQAAwABBAkACwAmAVpwdHJvaWNvbmZvbnRSZWd1bGFycHRyb2ljb25mb250cHRyb2ljb25mb250VmVyc2lvbiAxLjBwdHJvaWNvbmZvbnRHZW5lcmF0ZWQgYnkgc3ZnMnR0ZiBmcm9tIEZvbnRlbGxvIHByb2plY3QuaHR0cDovL2ZvbnRlbGxvLmNvbQBwAHQAcgBvAGkAYwBvAG4AZgBvAG4AdABSAGUAZwB1AGwAYQByAHAAdAByAG8AaQBjAG8AbgBmAG8AbgB0AHAAdAByAG8AaQBjAG8AbgBmAG8AbgB0AFYAZQByAHMAaQBvAG4AIAAxAC4AMABwAHQAcgBvAGkAYwBvAG4AZgBvAG4AdABHAGUAbgBlAHIAYQB0AGUAZAAgAGIAeQAgAHMAdgBnADIAdAB0AGYAIABmAHIAbwBtACAARgBvAG4AdABlAGwAbABvACAAcAByAG8AagBlAGMAdAAuAGgAdAB0AHAAOgAvAC8AZgBvAG4AdABlAGwAbABvAC4AYwBvAG0AAAACAAAAAAAAAAYAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD4BAgEDAQQBBQEGAQcBCAEJAQoBCwEMAQ0BDgEPARABEQESARMBFAEVARYBFwEYARkBGgEbARwBHQEeAR8BIAEhASIBIwEkASUBJgEnASgBKQEqASsBLAEtAS4BLwEwATEBMgEzATQBNQE2ATcBOAE5AToBOwE8AT0BPgE/AAVhcHBseQVhcnJvdwVicnVzaAZidWNrZXQFY2xlYXIFY2xvc2UEY3JvcAdlbGxpcHNlBmVyYXNlcgRsaW5lBmxpbmtlZAdsb2FkaW5nBm1pcnJvcgRvcGVuCnBhaW50ZXJybzARcGFzdGVfZXh0ZW5kX2Rvd24RcGFzdGVfZXh0ZW5kX2xlZnQScGFzdGVfZXh0ZW5kX3JpZ2h0EHBhc3RlX2V4dGVuZF90b3AJcGFzdGVfZml0CnBhc3RlX292ZXIHcGlwZXR0ZQhwaXhlbGl6ZQRyZWN0BHJlZG8GcmVzaXplBnJvdGF0ZQRzYXZlBnNlbGVjdAhzZXR0aW5ncwR0ZXh0BHVuZG8IdW5saW5rZWQGem9vbWluB3pvb21vdXQBYQFwAWwBeQFyAW8BdwFiAXUBcwFoAWMBawFlAXQBaQFuAWQBZwFtATABXwF4AWYBdgF6AAAAAA=="},141:(u,g,m)=>{m.d(g,{Z:()=>w});const w="data:font/woff;base64,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"}},m={};function i(u){if(m[u])return m[u].exports;var w=m[u]={id:u,exports:{}};return g[u].call(w.exports,w,w.exports,i),w.exports}return i.n=u=>{var g=u&&u.__esModule?()=>u.default:()=>u;return i.d(g,{a:g}),g},i.d=(u,g)=>{for(var m in g)i.o(g,m)&&!i.o(u,m)&&Object.defineProperty(u,m,{enumerable:!0,get:g[m]})},i.o=(u,g)=>Object.prototype.hasOwnProperty.call(u,g),i.r=u=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(u,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(u,"__esModule",{value:!0})},i(21)})();var m=g;export{m as default};

